{"version":3,"sources":["../../src/pages/photoDetail/photoDetail.ts","../../src/pages/photoDetail/photo.ts","../../src/pages/photoDetail/sysPhotoDetail.ts","../../node_modules/@angular/core/esm5 lazy","../../src/service/DbService.ts","../../src/service/CommonService.ts","../../src lazy","../../src/pages/photoDetail/AlbumListPage.ts","../../src/pages/album/QueryPage.ts","../../src/pages/rotateImage/RotateImage.ts","../../src/pages/photoSwipe/PhotoSwipe.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/mainMenu/menu.ts","../../src/pages/tabs/tabs.ts","../../src/pages/EditAlbum/EditAlbum.ts","../../src/pages/video/video.ts","../../src/pages/image/image.ts","../../src/pipe/cdvphotolibrary.pipe.ts","../../src/service/BBService.ts","../../src/pages/Taker/taker.ts","../../src/pages/about/about.ts","../../src/pages/album/album.ts","../../src/pages/test/test.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAiD;AACiE;AACtD;AACZ;AACZ;AAQpC;IAQE,yBAAmB,OAAsB,EAAC,MAAiB,EAAQ,QAAwB,EACxE,eAAsC,EAAQ,aAA2B,EACvE,WAA8B;QAFhC,YAAO,GAAP,OAAO,CAAe;QAA0B,aAAQ,GAAR,QAAQ,CAAgB;QACxE,oBAAe,GAAf,eAAe,CAAuB;QAAQ,kBAAa,GAAb,aAAa,CAAc;QACvE,gBAAW,GAAX,WAAW,CAAmB;QANnD,aAAQ,GAAS,KAAK,CAAC;QAEvB,UAAK,GAAY,EAAE,CAAC;QAKlB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACxC,CAAC;IAED,kCAAQ,GAAR;QACE,uBAAuB;IACzB,CAAC;IAED,gCAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,mCAAS,GAAT;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,yDAAS,EAAC,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,EAAC,CAAC;IAC/C,CAAC;IAED,gCAAM,GAAN;QAAA,iBAcC;QAbC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC;QACnB,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAC,KAAK,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAC,OAAO,EAAC,IAAI,CAAC,IAAI,CAAC,OAAO;YAC3F,YAAY,EAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAC,EACvC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YAC1B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7B,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,gCAAM,GAAN;QAAA,iBAoBC;QAnBC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,qEAAa,EAAE;YACnD,WAAW,EAAE,UAAC,OAAO;gBACnB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBACrB,KAAI,CAAC,QAAQ,GAAC,IAAI,CAAC;gBACnB,OAAO,GAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;gBAC1B,EAAE,EAAC,OAAO,IAAE,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBAC9B,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,EAAC,OAAO,EAAC,OAAO,EAAC,EAC3C,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;wBAC1B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACpB,KAAI,CAAC,MAAM,EAAE,CAAC;oBAChB,CAAC,EAAC,UAAC,GAAG;wBACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;wBAC7B,gBAAgB;oBAClB,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC;SACF,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,4CAAkB,GAAlB;QAAA,iBA4DC;QA3DC,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC5C,KAAK,EAAE,EAAE;YACT,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,KAAI,CAAC,QAAQ,GAAC,KAAK,CAAC;wBACpB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACtB,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;wBACtB,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,8BAA8B,CAAC,CAAC,IAAI,CAAC;4BAE9D,IAAI,QAAQ,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAC,CAAC,CAAC,CAAC;4BAC7E,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;gCAC3C,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,KAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;oCACpD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oCACpB,KAAI,CAAC,MAAM,EAAE,CAAC;gCAChB,CAAC,EAAC,UAAC,GAAG;oCACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oCACjB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gCACjC,CAAC,CAAC,CAAC,uBAAsB;4BAC3B,CAAC,EAAC,UAAC,GAAG;gCACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gCACjB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;4BACjC,CAAC,CAAC,CAAC,iBAAgB;wBAErB,CAAC,EAAC;4BACA,UAAU;wBACZ,CAAC,CAAC,CAAC,cAAa;oBAClB,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACpB,KAAI,CAAC,MAAM,EAAE,CAAC;wBACd,gBAAgB;oBAClB,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,KAAI,CAAC,QAAQ,GAAC,IAAI,CAAC;wBACnB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAC9B,KAAI,CAAC,MAAM,EAAE,CAAC;oBAChB,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IAjIU,eAAe;QAJ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACO;SAChC,CAAC;uKAS4B,CAA+D;YACvD,0EAAwD;YAC1D,YAAiB;OAVxC,eAAe,CAkI3B;IAAD,CAAC;AAAA;SAlIY,eAAe,e;;;;;;;;;;;;;;;;;;;;;;;ACZ2C;AAC2C;AACtD;AAER;AACO;AAqD3D;IA0BE,mBAAmB,OAAsB,EAAC,MAAiB,EAAQ,aAA2B,EAAQ,SAAmB;QAAtG,YAAO,GAAP,OAAO,CAAe;QAA0B,kBAAa,GAAb,aAAa,CAAc;QAAQ,cAAS,GAAT,SAAS,CAAU;QAxBzH,eAAU,GAAS,KAAK,CAAC;QAIzB,UAAK,GAAQ,CAAC,CAAC;QAKf,iBAAY,GAAW,IAAI,CAAC;QAG5B;;WAEG;QACH,YAAO,GAAS,KAAK,CAAC;QAUpB,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;QACb,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3C,CAAC;IAED,mCAAe,GAAf;IAEA,CAAC;IAED,oCAAgB,GAAhB;QAEE;;;;;;;;;;;;;;;;YAgBI;IAEN,CAAC;IAED,kCAAc,GAAd;QACE,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;YAC9E,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,GAAC,GAAG,CAAC;YAC5C;;;;;uBAKW;QACb,CAAC;IAEH,CAAC;IAED,4BAAQ,GAAR;QAAA,iBA6BC;QA3BA,IAAI,MAAM,GAAG,UAAC,KAAK;YAChB,qBAAqB;YACrB,KAAK;YACL,IAAI,IAAI,GAAG,KAAI,CAAC;YAChB,EAAE,EAAC,KAAK,CAAC,SAAS,IAAE,CAAC,CAAC,EAAC;gBACrB,KAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,CAAC;YAAA,IAAI,CAAC,EAAE,EAAC,KAAK,CAAC,SAAS,IAAE,CAAC,CAAC,EAAC;gBAC3B,EAAE,EAAC,KAAI,CAAC,KAAK,IAAI,CAAC,CAAC,EAAC;oBAClB,IAAI,EAAE,GAAG,KAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;oBACpD,EAAE,EAAC,EAAE,CAAC,CAAC,CAAC;wBACN,KAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;wBACnB,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;wBACxC,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,CAAC;oBAChD,CAAC;gBACH,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,CAAC;gBAChD,CAAC;YACH,CAAC;YACF,wBAAwB;QACzB,CAAC;QAED,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE/B,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,EAAC;YACpB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IAEH,CAAC;IAED,6BAAS,GAAT;QACE,IAAI,CAAC,OAAO,GAAC,CAAC,IAAI,CAAC,OAAO,CAAC;QAC3B,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QACrC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACtC,CAAC;IACH,CAAC;IAED,8BAAU,GAAV;QACE,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,EAAC;YACpB,IAAI,CAAC,YAAY,GAAC,KAAK,CAAC;YACxB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,YAAY,GAAC,IAAI,CAAC;YACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC;IACH,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAqBC;QAnBC,IAAI,IAAI,GAAG;YACT,EAAE,EAAC,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACjB,KAAI,CAAC,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,CAAC;YAChD,CAAC;QACH,CAAC;QAED,EAAE,EAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,EAAE,CAAC;QACX,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,UAAC,EAAM;gBACzE,KAAI,CAAC,QAAQ,GAAC,EAAE,CAAC;gBACjB,KAAI,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;gBACd,IAAI,EAAE,CAAC;YACT,CAAC,EAAC;gBACA,KAAI,CAAC,QAAQ,GAAE,KAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;gBAC/C,KAAI,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;gBACd,IAAI,EAAE,CAAC;YACT,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,GAAG,WAAW,CAAC;YAC/B,KAAI,CAAC,QAAQ,EAAE,CAAC;QAClB,CAAC,EAAC,IAAI,CAAC,CAAC;IACV,CAAC;IAED,4BAAQ,GAAR;QACE,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,EAAC;YACpB,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACnC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC5B,CAAC;IACH,CAAC;IAED,6BAAS,GAAT;QACE,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACrC,CAAC;IAGD,mCAAe,GAAf;QACE,iCAAiC;IAEnC,CAAC;IAED,+BAAW,GAAX,UAAY,IAAQ,EAAC,QAAgB;QACnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iFAAe,EAAC,EAAE,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,CAAC;IACrE,CAAC;IAxJsB;QAAtB,yEAAS,CAAC,UAAU,CAAC;kCAAU,iEAAU;+CAAC;IAEtB;QAApB,yEAAS,CAAC,QAAQ,CAAC;kCAAQ,iEAAU;6CAAC;IAClB;QAApB,yEAAS,CAAC,QAAQ,CAAC;kCAAQ,iEAAU;6CAAC;IAEjB;QAArB,yEAAS,CAAC,SAAS,CAAC;kCAAS,iEAAU;8CAAC;IACd;QAA1B,yEAAS,CAAC,cAAc,CAAC;kCAAc,iEAAU;mDAAC;IAxBxC,SAAS;QAjDrB,wEAAS,CAAC;YAET,QAAQ,EAAC,OAAO;YAChB,QAAQ,EAAC,mqEA4CR;SACF,CAAC;yCA2B4B,oEAAa,EAAS,gEAAS,EAAsB,6EAAa,EAAkB,qEAAS;OA1B9G,SAAS,CA6KrB;IAAD,gBAAC;CAAA;AA7KqB;;;;;;;;;;;;;;;;;;;;;;;;AC1D2B;AAC+C;AACpC;AACxB;AACgB;AAQpD;IAQE,4BAAmB,OAAsB,EAAC,MAAiB,EAAQ,QAAwB,EACxE,eAAsC,EAAQ,aAA2B,EACvE,SAAmB;QAFrB,YAAO,GAAP,OAAO,CAAe;QAA0B,aAAQ,GAAR,QAAQ,CAAgB;QACxE,oBAAe,GAAf,eAAe,CAAuB;QAAQ,kBAAa,GAAb,aAAa,CAAc;QACvE,cAAS,GAAT,SAAS,CAAU;QAJxC,aAAQ,GAAS,KAAK,CAAC;QAKrB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,GAAC,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACtC,CAAC;IAED,qCAAQ,GAAR;QACE,uBAAuB;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,wCAAW,GAAX;QACE,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC;IAChE,CAAC;IAED,mCAAM,GAAN;QACE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,qCAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,sCAAS,GAAT;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,yDAAS,EAAC,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,EAAC,CAAC;IAC/C,CAAC;IAED,mCAAM,GAAN;QAAA,iBAeC;QAdC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAC,EAAC;YACvD,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;YAChC,MAAM,CAAC;QACT,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAC,IAAI,CAAC;QACnB,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;YACjD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC7B,KAAI,CAAC,MAAM,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAW,GAAX;QAAA,iBAoCC;QAlCC,IAAI,aAAa,GAAG,UAAC,EAAM;YACzB,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;YACxC,EAAE,EAAC,EAAE,CAAC,SAAS,GAAC,CAAC,IAAI,EAAE,CAAC,QAAQ,GAAC,CAAC,CAAC,CAAC,CAAC;gBACnC,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,EAAC,EAAE,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;oBACpE,KAAI,CAAC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;oBAC5B,KAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;oBACjC,KAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;oBACnC,6CAA6C;oBAC7C,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC/B,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACnC,CAAC,CAAC;YACJ,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACnC,CAAC;QACH,CAAC,CAAC;QAEF,IAAI,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,EAAM;YAClD,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAChB,KAAI,CAAC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;YACzC,EAAE,EAAC,EAAE,CAAC,SAAS,IAAI,CAAC,IAAI,EAAE,CAAC,QAAQ,IAAE,CAAC,CAAC,CAAC,CAAC;gBACvC,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;gBAC7C,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,QAAY;oBACjD,EAAE,CAAC,QAAQ,GAAC,KAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;oBACnD,EAAE,CAAC,SAAS,GAAC,KAAI,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;oBACtD,aAAa,CAAC,EAAE,CAAC,CAAC;gBACpB,CAAC,CAAC;YACJ,CAAC;YAAC,IAAI,CAAE,CAAC;gBACP,aAAa,CAAC,EAAE,CAAC,CAAC;YACpB,CAAC;QACH,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjB,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+CAAkB,GAAlB;QAAA,iBAyBC;QAxBC,IAAI,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;YAC5C,KAAK,EAAE,EAAE;YACT,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,KAAK;oBACX,IAAI,EAAE,aAAa;oBACnB,OAAO,EAAE;wBACP,KAAI,CAAC,QAAQ,GAAC,KAAK,CAAC;wBACpB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;oBACtB,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,KAAI,CAAC,QAAQ,GAAC,IAAI,CAAC;wBACnB,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAC9B,KAAI,CAAC,MAAM,EAAE,CAAC;oBAChB,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QAEH,WAAW,CAAC,OAAO,EAAE,CAAC;IACxB,CAAC;IArHU,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACM;SACnC,CAAC;uKAS4B,CAA+D;YACvD,uEAAwD;YAC7D,SAAS;OAV7B,kBAAkB,CAsH9B;IAAD,CAAC;AAAA;SAtHY,kBAAkB,e;;;;;;;ACZ/B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;ACV2C;AAI3C,IAAM,SAAS,GAAQ,EAAE,CAAC;AAG1B;IAsBE;QApBA,qBAAgB,GAAK;YACnB,SAAS,EAAC,EAAE;YACZ,KAAK,EAAC,EAAE;YACR,aAAa,EAAC,KAAK;YACnB,IAAI,EAAC,EAAE;YACP,YAAY,EAAC,KAAK;YAClB,OAAO,EAAC,EAAE;YACV,WAAW,EAAC,KAAK;YACjB,MAAM,EAAC,CAAC;YACR,KAAK,EAAC,SAAS;YACf,OAAO,EAAC,KAAK;YACb,KAAK,EAAC,EAAE;SACT;QAED,eAAU,GAAO,EAKd,CAAC;IAGJ,CAAC;IAED,wBAAI,GAAJ;IAEA,CAAC;IAED,+BAAW,GAAX;IAEA,CAAC;IAED,kCAAc,GAAd,UAAe,SAAS,EAAC,MAAM,EAAC,IAAI;QAClC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,cAAc,EAAE,CAAC;IACrC,CAAC;IAED,uCAAmB,GAAnB;QACE,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC;IAC/B,CAAC;IAED,kCAAc,GAAd;QACE,IAAI,CAAC,gBAAgB,CAAC,MAAM,GAAC,CAAC,CAAC;QAC/B,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAC,SAAS,CAAC;QACtC,IAAI,CAAC,gBAAgB,CAAC,OAAO,GAAG,KAAK,CAAC;QACtC,IAAI,CAAC,gBAAgB,CAAC,KAAK,GAAC,EAAE,CAAC;IACjC,CAAC;IAED,kCAAc,GAAd;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC,KAAK,CAAC;QAC7C,EAAE,EAAC,KAAK,CAAC,MAAM,GAAE,CAAC,CAAC,EAAC;YAClB,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAClB,CAAC;IACH,CAAC;IAED,iCAAa,GAAb,UAAc,IAAQ,EAAC,aAAiB;QAAxC,iBAsCC;QArCC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,IAAI,KAAK,GAAG,KAAI,CAAC,mBAAmB,EAAE,CAAC,KAAK,CAAC;YAC7C,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC;YACf,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBACpC,EAAE,EAAC,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,CAAC,CAAC;oBAC3B,KAAK,GAAG,CAAC,CAAC;oBACV,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;YACD,EAAE,EAAC,KAAK,GAAG,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,EAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;YACtB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,EAAE,EAAC,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;oBACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACpB,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,IAAI,OAAO,GAAG,KAAI,CAAC,mBAAmB,EAAE,CAAC;oBACzC,EAAE,EAAC,CAAC,OAAO,CAAC,WAAW,CAAC,EAAC;wBACvB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAC,IAAI,CAAC,CAAC,IAAI,CAAC;4BAClC,EAAE,EAAC,KAAK,GAAG,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,EAAC;gCACzB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;4BACtB,CAAC;4BAAA,IAAI,CAAC,CAAC;gCACL,IAAI,CAAC,IAAI,CAAC,CAAC;4BACb,CAAC;wBACH,CAAC,CAAC,CAAC;oBACL,CAAC;oBAAA,IAAI,CAAC,CAAC;wBACL,KAAI,CAAC,aAAa,CAAC,IAAI,EAAC,IAAI,EAAC,aAAa,CAAC,CAAC,IAAI,CAAC;4BAC/C,EAAE,EAAC,KAAK,GAAG,KAAK,CAAC,MAAM,GAAC,CAAC,CAAC,EAAC;gCACzB,IAAI,CAAC,KAAK,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC;4BACtB,CAAC;4BAAA,IAAI,CAAC,CAAC;gCACL,IAAI,CAAC,IAAI,CAAC,CAAC;4BACb,CAAC;wBACH,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,CAAC;IAEJ,CAAC;IAED,gCAAY,GAAZ,UAAa,IAAQ;QACnB,IAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC,KAAK,CAAC;QAC7C,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YACpC,EAAE,EAAC,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,EAAG,CAAC,CAAC,CAAC;gBAC3B,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC,EAAC;oBACR,MAAM,CAAC,KAAK,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;gBACpB,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,4BAAQ,GAAR,UAAS,CAAC,EAAE,CAAC;QACX,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;QAChB,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAChB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC;gBACvC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;gBAC9C,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC5B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC;QACH,CAAC;QACD,MAAM,CAAC,CAAC,CAAC;IACX,CAAC;IAED,kCAAc,GAAd,UAAe,SAAS,EAAC,MAAM;QAA/B,iBAuFC;QArFC,MAAM,CAAE,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC5B,EAAE,EAAC,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC;gBACjC,EAAE,EAAC,SAAS,CAAC,EAAC;oBACZ,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,CAAC;gBAClB,MAAM,CAAC;YACT,CAAC;YAED,EAAE,EAAC,CAAC,KAAI,CAAC,gBAAgB,CAAC,OAAO,IAAI,KAAI,CAAC,gBAAgB,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzE,EAAE,EAAC,SAAS,CAAC,EAAC;oBACZ,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACvB,CAAC;gBACD,IAAI,CAAC,cAAc,CAAC,CAAC;gBACrB,MAAM,CAAC;YACT,CAAC;YAED,EAAE,EAAC,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;gBACzC,KAAI,CAAC,gBAAgB,CAAC,MAAM,IAAI,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC;YAC9D,CAAC;YAED,IAAI,IAAI,GAAG,KAAI,CAAC,gBAAgB,CAAC,YAAY,GAAC,KAAI,CAAC,gBAAgB,CAAC,IAAI,GAAC,IAAI,CAAC;YAC9E,IAAI,KAAK,GAAG,KAAI,CAAC,gBAAgB,CAAC,aAAa,GAAC,KAAI,CAAC,gBAAgB,CAAC,KAAK,GAAC,IAAI,CAAC;YAEjF,OAAO,CAAC,EAAE,CAAC,gBAAgB,CAAC,KAAI,CAAC,gBAAgB,CAAC,OAAO,EAAC,IAAI,EAAC,KAAK,EAClE,KAAI,CAAC,gBAAgB,CAAC,MAAM,EAAC,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAC,YAAY;gBAE5E,EAAE,EAAC,YAAY,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;oBAC3B,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC,EAAC;wBACd,SAAS,CAAC,QAAQ,EAAE,CAAC;oBACvB,CAAC;oBACD,IAAI,CAAC,KAAK,CAAC,CAAC;gBACd,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,IAAI,UAAU,GAAG,EAAE,CAAC;oBACpB,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC5C,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBACtC,CAAC;oBACD,OAAO,CAAC,EAAE,CAAC,yBAAyB,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,oBAAU;wBAC9D,IAAI,GAAG,GAAG,EAAE,CAAC;wBACb,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;4BAC5C,IAAI,EAAE,GAAG,KAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;4BAC3C,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC;4BACd,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4BACb,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCACxC,EAAE,EAAC,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAC;oCAChD,IAAI,EAAE,GAAG,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,EAAC,EAAE,CAAC,CAAC;oCACzC,OAAO,EAAE,CAAC,SAAS,CAAC;oCACpB,EAAE,EAAC,YAAY,CAAC,CAAC,CAAC,CAAC,OAAO,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAC;wCAC9C,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;oCACpB,CAAC;oCAAA,IAAI,CAAC,CAAC;wCACL,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oCACvB,CAAC;gCACH,CAAC;4BACL,CAAC;wBACH,CAAC;wBAED,EAAE,EAAC,GAAG,CAAC,MAAM,GAAG,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;4BAC5C,KAAI,CAAC,gBAAgB,CAAC,OAAO,GAAG,IAAI,CAAC;wBACvC,CAAC;wBACD,EAAE,EAAC,MAAM,CAAC,EAAC;4BACT,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gCACnC,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC3C,CAAC;wBACH,CAAC;wBAAA,IAAI,CAAC,CAAC;4BACL,KAAI,CAAC,gBAAgB,CAAC,KAAK,GAAC,GAAG,CAAC;wBAClC,CAAC;wBACD,IAAI,CAAC,KAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;wBAClC,mCAAmC;wBACnC,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC,EAAC;4BACd,SAAS,CAAC,QAAQ,EAAE,CAAC;wBACvB,CAAC;oBACH,CAAC,EAAC,aAAG;wBACH,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC,CAAC;gBAEJ,CAAC;YAEH,CAAC,EAAC,UAAC,GAAG;gBACJ,IAAI,CAAC,GAAG,CAAC,CAAC;gBACV,kBAAkB;gBAClB,mCAAmC;gBACnC,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC;oBACb,SAAS,CAAC,QAAQ,EAAE,CAAC;YACzB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,iCAAa,GAAb,UAAc,SAAS,EAAC,MAAM,EAAC,aAAa;QAA5C,iBAqCC;QAnCA,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACpC,IAAI,OAAO,GAAG,KAAI,CAAC,mBAAmB,EAAE,CAAC;YACzC,IAAI,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAC,OAAO,CAAC,UAAU,GAAC,IAAI,CAAC;YAC3D,EAAE,EAAC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;gBAC3B,OAAO,CAAC,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC;YAClC,CAAC;YACD,IAAI,IAAI,GAAG,KAAI,CAAC,gBAAgB,CAAC,YAAY,GAAC,KAAI,CAAC,gBAAgB,CAAC,IAAI,GAAC,IAAI,CAAC;YAC9E,IAAI,KAAK,GAAG,KAAI,CAAC,gBAAgB,CAAC,aAAa,GAAC,KAAI,CAAC,gBAAgB,CAAC,KAAK,GAAC,IAAI,CAAC;YAEjF,aAAa,CAAC,aAAa,CAAC,OAAO,EAAC,OAAO,CAAC,MAAM,EAAC,OAAO,CAAC,KAAK,EAAC,IAAI,EAAC,KAAK,CAAC;iBACzE,IAAI,CAAC,UAAC,KAAS;gBACd,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBACnC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;gBACjC,CAAC;gBACD,EAAE,EAAC,CAAC,MAAM,CAAC,EAAC;oBACV,OAAO,CAAC,KAAK,GAAG,KAAK,CAAC;gBACxB,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;wBACnC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;wBACpB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAC3B,CAAC;gBACH,CAAC;gBACD,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC;oBACb,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACvB,IAAI,CAAE,OAAO,CAAC,KAAK,CAAC;YACtB,CAAC,EAAC,UAAC,GAAG;gBACJ,EAAE,EAAC,CAAC,CAAC,SAAS,CAAC;oBACb,SAAS,CAAC,QAAQ,EAAE,CAAC;gBACvB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,IAAI,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;IAEH,CAAC;IAvPU,SAAS;QADrB,yEAAU,EAAE;;OACA,SAAS,CAyPrB;IAAD,gBAAC;CAAA;AAzPqB;;;;;;;;;;;;;;;;;;;;;;;;;ACPtB;;GAEG;AACgD;AAC4C;AACjD;AACL;AACe;AACiD;AACzG,2EAA2E;AAClB;AAMzD;;;;;;;;;;;;;;;;;;;GAmBG;AAKH;IAeE,uBAAY,qCAAqC,CAAQ,SAA0B,EAAU,WAA8B,EACvG,MAAc,EAAQ,GAAa,EAAS,SAA0B,EAAS,WAAuB,EACjH,YAA0B,EAAS,WAAwB;QAFpE,iBAMC;QANwD,cAAS,GAAT,SAAS,CAAiB;QAAU,gBAAW,GAAX,WAAW,CAAmB;QACvG,WAAM,GAAN,MAAM,CAAQ;QAAQ,QAAG,GAAH,GAAG,CAAU;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,gBAAW,GAAX,WAAW,CAAY;QACjH,iBAAY,GAAZ,YAAY,CAAc;QAAS,gBAAW,GAAX,WAAW,CAAa;QAbnE,mBAAc,GAAU,OAAO,CAAC;QAChC,mBAAc,GAAU,OAAO,CAAC;QAChC,mBAAc,GAAU,OAAO,CAAC;QAKjC,wBAAmB,GAAwB,IAAI,GAAG,EAAE,CAAC;QAErD,kBAAa,GAA6B,IAAI,GAAG,EAAE,CAAC;QAgGpD;;;;WAIG;QACH,cAAS,GAAG,UAAC,OAAwB,EAAE,QAAuB;YAAjD,0CAAwB;YAAE,0CAAuB;YAC5D,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACjC,OAAO,EAAE,OAAO;gBAChB,QAAQ,EAAE,QAAQ;gBAClB,QAAQ,EAAE,KAAK;gBACf,eAAe,EAAE,IAAI;gBACrB,eAAe,EAAE,IAAI;aACtB,CAAC,CAAC;YACH,KAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;QACvB,CAAC,CAAC;QAEF;;WAEG;QACH,cAAS,GAAG;YACV,KAAI,CAAC,KAAK,CAAC,UAAU,EAAE;QACzB,CAAC,CAAC;QAEF;;;WAGG;QACH,gBAAW,GAAG,UAAC,OAAoB;YAApB,sCAAoB;YACjC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBACrC,OAAO,EAAE,OAAO;aACjB,CAAC,CAAC;YACH,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;YACvB,UAAU,CAAC;gBACT,KAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC,EAAE,IAAI,GAAC,EAAE,CAAC,CAAC;QACd,CAAC,CAAC;QAEF;;WAEG;QACH,gBAAW,GAAG;YACZ,EAAE,EAAC,KAAI,CAAC,OAAO,CAAC,EAAC;gBACf,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YAC5B,CAAC;QACH,CAAC,CAAC;QAEF;;;;WAIG;QACH,eAAU,GAAG,UAAC,OAAO;YACnB,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;gBACjC,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC;oBACnC,mFAAmF;oBACnF,eAAe,EAAE,KAAI,CAAC,MAAM,CAAC,eAAe,CAAC,UAAU;oBACvD,OAAO,EAAE,GAAG;oBACZ,SAAS,EAAE,KAAK;oBAChB,YAAY,EAAE,KAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;oBAC3C,gCAAgC;oBAChC,iCAAiC;oBACjC,gBAAgB,EAAE,KAAK;oBACvB,kBAAkB,EAAE,KAAK,qBAAoB;iBAC9C,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;oBAC1B,OAAO,CAAC,SAAS,CAAC,CAAC;gBACrB,CAAC,EAAE,UAAC,GAAG;oBACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,GAAG,IAAI,EAAE,GAAG,KAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;gBAC7D,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;YAEJ;;kBAEM;QAEP,CAAC,CAAC;QAEF;;;;WAIG;QACH;;;;;;;;;;;;;;;;;;YAkBI;QAEJ;;;;WAIG;QACH,uBAAkB,GAAG,UAAC,OAAY;YAAZ,sCAAY;YAChC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO;gBACzB,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC;oBAC5B,UAAU,EAAE,KAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,MAAM;oBAChD,gBAAgB,EAAE,KAAK;iBACxB,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,qBAAW;oBAC3B,OAAO,CAAC,WAAW,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;oBACV,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,KAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;gBAChG,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,gBAAW,GAAG,UAAC,OAAc;YAC3B,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,IAAI;gBAC9B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;oBACtB,OAAO,CAAE,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC;gBACjD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,EAAC,UAAC,IAAI;wBAChD,oBAAoB;wBACpB,EAAE,EAAC,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI,CAAC,QAAQ,IAAE,CAAC,CAAC,CAAC,CAAC;4BAC3C,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;4BAC3B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;4BACxB,KAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,QAAY;gCACnC,IAAI,CAAC,QAAQ,GAAE,QAAQ,CAAC,QAAQ,CAAC;gCACjC,IAAI,CAAC,SAAS,GAAE,QAAQ,CAAC,SAAS,CAAC;gCACpC,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,EAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;oCAClE,IAAI,CAAC,OAAO,GAAC,OAAO,CAAC;oCACrB,OAAO,CAAC,IAAI,CAAC,CAAC;gCAChB,CAAC,EAAC,UAAC,GAAG;oCACJ,IAAI,CAAC,GAAG,CAAC,CAAC;gCACZ,CAAC,CAAC;4BACH,CAAC,EAAC,UAAC,GAAG;gCACJ,IAAI,CAAC,GAAG,CAAC,CAAC;4BACZ,CAAC,CAAC;wBACJ,CAAC;wBAAC,IAAI,CAAE,CAAC;4BACP,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;gCAC1D,IAAI,CAAC,OAAO,GAAC,OAAO,CAAC;gCACrB,OAAO,CAAC,IAAI,CAAC,CAAC;4BAChB,CAAC,EAAC,UAAC,GAAG;gCACJ,IAAI,CAAC,GAAG,CAAC,CAAC;4BACZ,CAAC,CAAC;wBACJ,CAAC;oBACH,CAAC,EAAC,UAAC,GAAG;wBACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAEF,kBAAa,GAAG,UAAC,OAAO,EAAC,MAAM,EAAC,KAAK,EAAC,IAAI,EAAC,KAAK;YAC9C,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,IAAI;gBAC9B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;oBACtB,OAAO,CAAC,CAAC;4BACP,YAAY,EAAE,0BAA0B;4BACxC,QAAQ,EAAC,kBAAkB;4BAC3B,SAAS,EAAE,kBAAkB;4BAC7B,SAAS,EAAC,sBAAsB;yBACjC,CAAC,CAAC,CAAC;gBACN,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,OAAO,EAAC,MAAM,EAAC,KAAK,EAAC,IAAI,EAAC,KAAK,EAAC,UAAC,KAAK;wBAC9E,OAAO,CAAC,KAAK,CAAC,CAAC;oBACjB,CAAC,EAAC,UAAC,GAAG;wBACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QA+DF,eAAU,GAAG,UAAC,OAAc;YAC1B,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAC,IAAI;gBAC9B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;oBACtB,OAAO,CAAC,CAAC,CAAC;gBACZ,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,CAAC,OAAO,EAAC,UAAC,MAAM;wBACpD,oBAAoB;wBACpB,OAAO,CAAC,MAAM,CAAC,CAAC;oBAClB,CAAC,EAAC,UAAC,GAAG;wBACJ,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;QAwJF,aAAQ,GAAC,UAAC,GAAO,EAAC,IAAI;YACpB,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,KAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;QAlfC;;aAEK;IACP,CAAC;IAED,mCAAW,GAAX;QACE,OAAO,CAAC,GAAG,CAAC,8BAA8B,CAAC,CAAC;QAC5C,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE;YAClC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACxB,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE;YACtC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC5B,CAAC,EAAE,KAAK,CAAC,CAAC;QACV,IAAI,CAAC,YAAY,CAAC,SAAS,EAAC,EAAE,CAAC,CAAC;IAClC,CAAC;IAED,oCAAY,GAAZ,UAAa,GAAU,EAAC,IAAQ;QAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACtC,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACR,CAAC;QACD,GAAG,CAAC,OAAO,CAAC,UAAC,GAAG;YACd,GAAG,CAAC,IAAI,CAAC,CAAC;QACZ,CAAC,CAAC;IACJ,CAAC;IAED,mCAAW,GAAX,UAAY,GAAU,EAAC,GAAY;QAC/B,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACtC,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACR,GAAG,GAAG,IAAI,GAAG,EAAY,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC;QAClC,CAAC;QACD,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACjB,CAAC;IAED,qCAAa,GAAb,UAAc,GAAU,EAAC,GAAY;QACnC,IAAI,GAAG,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACtC,EAAE,EAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;QACR,CAAC;QACD,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IAClB,CAAC;IAED,+CAAuB,GAAvB;QACE,IAAI,IAAI,GAAG,KAAK,CAAC;QACjB,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,UAAC,GAAG;YACnC,IAAI,GAAG,GAAG,EAAE,CAAC;QACf,CAAC,CAAC;QACF,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,kDAA0B,GAA1B,UAA2B,GAAU,EAAC,QAAiB;QACrD,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,EAAC,QAAQ,CAAC,CAAC;IAC7C,CAAC;IACD,kDAA0B,GAA1B,UAA2B,GAAU;QACnC,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;IACvC,CAAC;IAED,mCAAW,GAAX;QACE;;;;4CAIoC;QACpC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAED,kCAAU,GAAV,UAAW,IAAI,EAAC,GAAG;QACjB,IAAI,CAAC,GAAG;YACN,IAAI,EAAG,IAAI,CAAC,QAAQ,EAAE,GAAC,CAAC;YACxB,IAAI,EAAG,IAAI,CAAC,OAAO,EAAE;YACrB,IAAI,EAAG,IAAI,CAAC,QAAQ,EAAE;YACtB,IAAI,EAAG,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,EAAG,IAAI,CAAC,UAAU,EAAE;YACxB,IAAI,EAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,GAAC,CAAC,CAAC;YACxC,GAAG,EAAI,IAAI,CAAC,eAAe,EAAE,CAAa,IAAI;SAC/C,CAAC;QACF,EAAE,EAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACpB,GAAG,GAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,GAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;QACnF,CAAC;QACD,GAAG,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACf,EAAE,EAAC,IAAI,MAAM,CAAC,GAAG,GAAE,CAAC,GAAE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAC;gBACpC,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,IAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,GAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,GAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC1G,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAoLD,mCAAW,GAAX,UAAY,SAAS;QACnB,EAAE,EAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YACtB,IAAI,SAAS,GAAG,8BAA8B,CAAC;YAE/C,EAAE,EAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,EAAC;gBACnC,SAAS,GAAG,kDAAkD,CAAC;YACjE,CAAC;YAAA,IAAI,CAAC,EAAE,EAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,EAAC;gBACzC,SAAS,GAAG,gCAAgC,CAAC;YAC/C,CAAC;;eAEE;YACH,MAAM,CAAC;gBACL,YAAY,EAAC,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAC,qBAAqB,CAAC;gBAC9D,QAAQ,EAAC,SAAS;gBAClB,MAAM,EAAC,GAAG;gBACV,KAAK,EAAC,GAAG;gBACT,mEAAmE;gBACnE,eAAe;gBACb,QAAQ,EAAC,gBAAgB;gBAC1B,SAAS,EAAC,gBAAgB;gBAC3B;8BACc;gBACd,4CAA4C;gBAC5C,QAAQ,EAAC,SAAS;gBAClB,QAAQ,EAAC,SAAS;gBAClB,kCAAkC;gBAClC,4CAA4C;gBAC5C,OAAO,EAAC,mCAAmC;gBAC3C,YAAY,EAAC,gJAAgJ;aAC9J,CAAC;QACJ,CAAC;IACH,CAAC;IAED,qCAAa,GAAb;QAAA,iBA0BC;QAxBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACtB,IAAI,CAAE,CAAE;wBACN,KAAK,EAAE,MAAM;wBACb,EAAE,EAAC,CAAC;qBACL,EAAE;wBACD,KAAK,EAAE,MAAM;wBACb,EAAE,EAAC,CAAC;qBACL,CAAC,CACF;YACF,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN;;;;;;;;;;qBAUK;YACP,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAiBD,+BAAO,GAAP,UAAQ,IAAI;QAAZ,iBAuBC;QAtBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YACzB,IAAI,WAAW,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACtC,KAAK,EAAE,IAAI;gBACX,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,IAAI,CAAC,CAAC,CAAC,CAAC;wBACV,CAAC;qBACF,EAAC;wBACA,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;4BACP,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;wBACX,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CACF;IACH,CAAC;IAED,mCAAW,GAAX;QAAA,iBAyBC;QAxBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjC,uDAAuD;gBACvD,KAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC;oBAClC,yBAAyB;oBACzB,kBAAkB,EAAC,IAAI;oBACvB,4BAA4B;oBAC5B,OAAO,EAAE,OAAO;oBAChB,kCAAkC;oBAClC,UAAU,EAAE,OAAO;iBACpB,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ;oBACf,uBAAuB;oBACvB,wBAAwB;oBACxB,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC;oBAC7B,IAAI,CAAC,MAAM,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;oBACb,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;oBAC7C,IAAI,CAAC,IAAI,CAAC,CAAC;gBACb,CAAC,CAAC,CAAC;YACL,CAAC;YAAA,IAAI,EAAC;gBACJ,IAAI,CAAC,IAAI,CAAC,CAAC;YACb,CAAC;QACH,CAAC,CAAC;IAEJ,CAAC;IAED,mCAAW,GAAX,UAAY,QAAQ,EAAC,SAAS;QAC5B;;;;;;;WAOG;QACH,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,kGAAkG,CAAC;iBAClH,IAAI,CAAC;gBACJ,IAAI,KAAK,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChC,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAC,QAAQ,CAAC,CAAC;gBAClD,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,SAAS,EAAE,CAAC;gBACrC,IAAI,QAAQ,GAAG,EAAE,CAAC;gBAClB,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBACxB,SAAS,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAG,UAAC,WAAW;oBAC/C,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,EAAG,UAAC,EAAE;wBAC3C,IAAI,OAAO,GAAG,EAAE,CAAC,iBAAiB,CAAC;wBACnC,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ,GAAG,IAAI,GAAG,OAAO,CAAC,IAAI,GAAG,IAAI,GAAG,OAAO,CAAC,QAAQ,GAAG,IAAI,GAAG,OAAO,CAAC,MAAM,GAAG,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC;wBACrI,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;wBACrB,IAAI,CAAC,OAAO,CAAC,CAAC;oBAChB,CAAC,EAAC,aAAG;wBACH,IAAI,CAAC,GAAG,CAAC,CAAC;oBACZ,CAAC,CAAC,CAAC;gBACL,CAAC,EAAC,aAAG;oBACH,IAAI,CAAC,GAAG,CAAC,CAAC;gBACZ,CAAC,CAAC;YACJ,CAAC,EAAC,UAAC,GAAG;gBACJ,IAAI,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;QAEP,CAAC,CAAC;IACJ,CAAC;IAED,iCAAS,GAAT;QAAA,iBA4BC;QA3BC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAE,IAAI;YAE5B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACrB,IAAI,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAChD,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,IAAI,OAAO,GAAG,EAAC,kBAAkB,EAAC,CAAC,EAAC,UAAU,EAAC,CAAC,EAAC,CAAC;gBAClD,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,IAAI,CAAE,UAAC,OAAoB;oBAC7D,IAAI,GAAG,GAAG,CAAC,CAAC;oBACZ,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACxC,KAAI,CAAC,wBAAwB,CAAC,EAAC,QAAQ,EAAC,OAAO,CAAC,CAAC,CAAC,EAAC,EAAC,YAAE;4BACpD,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4BACf,GAAG,EAAE,CAAC;4BACN,EAAE,EAAC,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,EAAC;gCACxB,IAAI,CAAC,KAAK,CAAC,CAAC;gCACZ,KAAI,CAAC,WAAW,EAAE,CAAC;4BACrB,CAAC;wBACH,CAAC,EAAC,aAAG;4BACH,IAAI,CAAC,GAAG,CAAC,CAAC;wBACZ,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC,EACD,aAAG;oBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC;YACP,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;OAWG;IACH,oCAAY,GAAZ;QAAA,iBAkBC;QAjBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAE,IAAI;YAE5B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACrB,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YAC7C,CAAC;YAAA,IAAI,CAAC,CAAC;gBACN,IAAI,OAAO,GAAwB,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;gBAChD,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC;qBACpC,IAAI,CACH,UAAC,IAAiB;oBAChB,KAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;gBACnD,CAAC,EACD,aAAG;oBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,CACF,CAAC;YACN,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAOD,gDAAwB,GAAxB,UAAyB,IAAQ,EAAC,IAAI,EAAC,IAAI;QAA3C,iBAkCC;QAjCC,IAAI,MAAM,GAAG,IAAI,CAAC;QAClB,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAC,qBAAqB,CAAC,CAAC;QACxE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC3B,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAE,CAAC,CAAC,CAAC;YACxH,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,EAAM;gBAC1C,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC,YAAY,CAAC;gBACtC,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;gBAC9B,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;gBAChC,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC,OAAO,CAAC;gBAC5B,KAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,MAAM,CAAC,CAAC;YACf,CAAC,EAAC,UAAC,GAAG;gBACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,WAAW,EAAE,CAAC;gBACnB,IAAI,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,QAAY;gBACnC,MAAM,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;gBACpC,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;gBACtC,KAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,EAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,iBAAO;oBACjE,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC;oBACzB,IAAI,CAAC,MAAM,CAAC,CAAC;oBACb,KAAI,CAAC,WAAW,EAAE,CAAC;gBACrB,CAAC,EAAC,aAAG;oBACH,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,CAAC,CAAC;YACL,CAAC,EAAC,aAAG;gBACH,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC;QACL,CAAC;IAGH,CAAC;IACD;;;;;;;;;;;OAWG;IACH,oCAAY,GAAZ;QAAA,iBAkBC;QAjBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAE,IAAI;YAC5B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACpB,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC;YACxC,CAAC;YAAA,IAAI,CAAC,CAAC;gBACN,IAAI,OAAO,GAAwB,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;gBAChD,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC;qBACpC,IAAI,CACH,UAAC,IAAiB;oBAChB,KAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;gBACnD,CAAC,EACD,aAAG;oBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,CACF,CAAC;YACN,CAAC;QAEH,CAAC,CAAC;IACJ,CAAC;IAED;;;;;;;;;;;OAWG;IACH,oCAAY,GAAZ;QAAA,iBAkBC;QAjBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAE,IAAI;YAC5B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACrB,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YAC9C,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,IAAI,OAAO,GAAwB,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;gBAChD,KAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC;qBACpC,IAAI,CACH,UAAC,IAAiB;oBAChB,KAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC;gBACnD,CAAC,EACD,aAAG;oBACD,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC1B,CAAC,CACF,CAAC;YACN,CAAC;QAEH,CAAC,CAAC;IACJ,CAAC;IAED,iCAAS,GAAT,UAAU,SAAgB,EAAC,SAAS;QACnC;;;;;;;;;;;;;;cAcM;QAEL,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IAErC,CAAC;IAED,mCAAW,GAAX;QAAA,iBAoCC;QAnCC,IAAI,IAAI,GAAC,EAAE,eAAe,EAAC,IAAI;YAC7B,YAAY,EAAC,GAAG;YAChB,gBAAgB,EAAC,EAAE;YACnB,eAAe,EAAC,SAAS,4BAA2B;SACrD,CAAC;QAEF,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAE3B,EAAE,EAAC,KAAI,CAAC,WAAW,EAAE,CAAC,EAAC;gBACrB,IAAI,CAAC,CAAC,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;YAChD,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,WAAW,CAAC,SAAS,CAAC,IAAI,EAAC,iBAAO;oBAChC,4KAA4K;oBAC5K,IAAI,GAAG,GAAG,CAAC,CAAC;oBACZ,IAAI,KAAK,GAAG,EAAE,CAAC;oBACf,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBACxC,IAAI,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;wBACtB,KAAI,CAAC,wBAAwB,CAAC,EAAC,QAAQ,EAAC,IAAI,CAAC,IAAI,EAAC,EAAC,YAAE;4BACnD,EAAE,CAAC,YAAY,GAAC,IAAI,CAAC,eAAe,CAAC;4BACrC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;4BACf,GAAG,EAAE,CAAC;4BACN,EAAE,EAAC,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,EAAC;gCACxB,IAAI,CAAC,KAAK,CAAC,CAAC;4BACd,CAAC;wBACH,CAAC,EAAC,aAAG;4BACH,IAAI,CAAC,GAAG,CAAC,CAAC;wBACZ,CAAC,CAAC,CAAC;oBACL,CAAC;gBACH,CAAC,EAAC,aAAG;oBACH,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC;gBAC5B,CAAC,CAAC;YAEF,CAAC;QACL,CAAC,CAAC;IAEF,CAAC;IAlqBU,aAAa;QADzB,yEAAU,EAAE;yCAgByD,sEAAe,EAAuB,wEAAiB;YAC/F,oEAAM,EAAa,+DAAQ,EAAoB,sEAAe,EAAqB,8EAAW;YACnG,iFAAY,EAAsB,+EAAW;OAjBzD,aAAa,CAoqBzB;IAAD,oBAAC;CAAA;AApqByB;;;;;;;;ACxC1B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;;;;;;;;;;;;;;;ACViE;AACW;AACxB;AAepD;IAKE,uBAAoB,SAAoB,EAAS,SAAmB,EAAQ,QAAwB;QAAhF,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAU;QAAQ,aAAQ,GAAR,QAAQ,CAAgB;QAHpG,cAAS,GAAK,EAAE,CAAC;QAIf,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;IAClC,CAAC;IAED,gCAAQ,GAAR;QACE,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,KAAK,EAAE,CAAC;IACf,CAAC;IAED,6BAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,SAAS,GAAC,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC;IAChE,CAAC;IAxBU,aAAa;QAbzB,wEAAS,CAAC;YACT,QAAQ,EAAE,6XAUT;SACF,CAAC;yCAM+B,gEAAS,EAAmB,qEAAS,EAAkB,qEAAc;OALzF,aAAa,CA0BzB;IAAD,oBAAC;CAAA;AA1ByB;;;;;;;;;;;;;;;;;;;;;;;;ACjBuC;AACW;AACxB;AACQ;AACR;AA6CpD;IAWE,mBAAoB,SAAoB,EAAS,SAAmB,EAAQ,QAAwB,EAAQ,aAA2B,EAC7H,SAAmB;QADT,cAAS,GAAT,SAAS,CAAW;QAAS,cAAS,GAAT,SAAS,CAAU;QAAQ,aAAQ,GAAR,QAAQ,CAAgB;QAAQ,kBAAa,GAAb,aAAa,CAAc;QAC7H,cAAS,GAAT,SAAS,CAAU;QAV7B,cAAS,GAAK,EAAE,CAAC;QACjB,iBAAY,GAAK,EAAE,CAAC;QAGpB,kBAAa,GAAS,KAAK,CAAC;QAC5B,iBAAY,GAAS,IAAI,CAAC;QAE1B,gBAAW,GAAS,IAAI,CAAC;IAKzB,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;QACnD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;QACvC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;QAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;IAC7C,CAAC;IAED,yBAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAED,0BAAM,GAAN;QACE,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QAC/C,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC7C,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;QAE3C,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,EAAC;YAC1B,GAAG,EAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE,CAAC;gBAC9C,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,EAAC;oBACpD,IAAI,CAAC,MAAM,CAAC,SAAS,GAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;oBACjD,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,GAAG,EAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE,CAAC;gBAC3C,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC;oBAC9C,IAAI,CAAC,MAAM,CAAC,KAAK,GAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;oBACzC,KAAK,CAAC;gBACR,CAAC;YACH,CAAC;QACH,CAAC;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;IAC/B,CAAC;IAED,+BAAW,GAAX;QAAA,iBAUC;QATC,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAC,KAAS;YAChD,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,IAAI,EAAE,GAAG,EAAE,CAAC;YACZ,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBACpC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBACpB,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC;YACD,KAAI,CAAC,YAAY,GAAC,EAAE,CAAC;QACvB,CAAC,CAAC;IACJ,CAAC;IAhEU,SAAS;QA5CrB,wEAAS,CAAC;YACT,QAAQ,EAAE,oxDAyCT;SACF,CAAC;yCAY+B,gEAAS,EAAmB,qEAAS,EAAkB,qEAAc,EAAsB,6EAAa;YACnH,qEAAS;OAZlB,SAAS,CAkErB;IAAD,gBAAC;CAAA;AAlEqB;;;;;;;;;;;;;;;;;;;;;;;;ACjDwD;AAC5B;AACQ;AACH;AACA;AAKvD,IAAM,SAAS,GAAG,CAAC,CAAC;AAcpB;IAeE,yBAAmB,OAAsB,EAAE,MAAiB,EAAS,aAA4B,EAAS,SAAoB;QAA3G,YAAO,GAAP,OAAO,CAAe;QAA4B,kBAAa,GAAb,aAAa,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAV9H,eAAU,GAAW,CAAC,CAAC;QACvB,QAAG,GAAW,CAAC,CAAC;QAChB,cAAS,GAAW,CAAC,CAAC;QAEtB,WAAM,GAAW,CAAC,CAAC;QACnB,WAAM,GAAW,CAAC,CAAC;QA+DnB,gBAAW,GAAG,UAAU,CAAC;YAEvB,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACV,KAAK,GAAG,CAAC,CAAC;YACZ,CAAC;YACD,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,GAAG,IAAI,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;YAC5E,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;QAClB,CAAC;QAED,iBAAY,GAAG,UAAU,CAAC;YAExB,IAAI,KAAK,GAAG,CAAC,CAAC;YACd,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBACV,KAAK,GAAG,CAAC,CAAC;YACZ,CAAC;YACD,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,GAAG,IAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE;YACvE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;QAClB,CAAC;QAED,YAAO,GAAG;YACR,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACrC,CAAC;QAED,cAAS,GAAG;YACV,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YAChD,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACb,CAAC;QAED,eAAU,GAAG;YACX,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC3C,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;YAChD,CAAC;YACD,MAAM,CAAC,GAAG,CAAC;QACb,CAAC;QAED,mBAAc,GAAG;YACf,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;YACnC,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAChC,iGAAiG;YACjG,IAAI,CAAC,SAAS,GAAE,CAAC,QAAQ,GAAC,CAAC,CAAC,GAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,GAAC,CAAC,CAAC,GAAC,CAAC,IAAI,CAAC,EAAE,GAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACtE,CAAC;QAxGC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;IACf,CAAC;IAED,mCAAS,GAAT,UAAU,EAAE,EAAE,CAAC;QACb,IAAI,GAAG,GAAG;YACR,KAAK,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI;YAClB,MAAM,EAAE,EAAE,CAAC,CAAC,GAAG,IAAI;YACnB,SAAS,EAAE,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,kBAAkB,GAAG,IAAI,CAAC,SAAS,GAAG,KAAK;SACnF;QACD,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,EAAE,GAAG,IAAI,CAAC;QACtE,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC;IAC1E,CAAC;IAED,0CAAgB,GAAhB;QAAA,iBAYC;QAXC,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC;QACpD,IAAI,aAAa,GAAG,IAAI,+EAAO,CAAC,aAAa,CAAC,CAAC;QAC/C,aAAa,CAAC,MAAM,EAAE,CAAC;QACvB,aAAa,CAAC,EAAE,CAAC,SAAS,EAAE,UAAC,EAAE;YAC7B,IAAI,GAAG,GAAG,KAAI,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YACzC,KAAI,CAAC,UAAU,CAAC,UAAU,GAAG,GAAG,GAAG,4BAA4B,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;QACH,aAAa,CAAC,EAAE,CAAC,UAAU,EAAE,UAAC,EAAE;YAC9B,IAAI,GAAG,GAAG,KAAI,CAAC,WAAW,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;YACxC,KAAI,CAAC,UAAU,CAAC,UAAU,GAAG,GAAG,GAAG,4BAA4B,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qCAAW,GAAX,UAAY,CAAC;QACX,mGAAmG;IAErG,CAAC;IAED,+BAAK,GAAL,UAAM,GAAG;QACP,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,CAAC;QAC5B,KAAK;QACL,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,GAAG,GAAG,4BAA4B,CAAC,CAAC;QACnE,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAI,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YACrC,IAAI,CAAC,UAAU,CAAC,UAAU,GAAG,GAAG,GAAG,4BAA4B,CAAC,CAAC;QACnE,CAAC;IACH,CAAC;IAED,oCAAU,GAAV,UAAW,KAAa;QACtB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;IAC7D,CAAC;IA3DmB;QAAnB,yEAAS,CAAC,OAAO,CAAC;kCAAW,iEAAU;qDAAC;IACjB;QAAvB,yEAAS,CAAC,WAAW,CAAC;kCAAe,iEAAU;yDAAC;IAbtC,eAAe;QAZ3B,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,QAAQ,EAAE,uSAQT;SACF,CAAC;yCAgB4B,oEAAa,EAAU,gEAAS,EAAwB,6EAAa,EAAoB,qEAAS;OAfnH,eAAe,CA2H3B;IAAD,sBAAC;CAAA;AA3H2B;;;;;;;;;;;;;;;;;;;;;;;ACvBiD;AACzB;AACQ;AACJ;AAuDxD;IAQE,wBAAmB,OAAsB,EAAC,MAAiB,EAAQ,aAA2B,EAAQ,SAAmB;QAAtG,YAAO,GAAP,OAAO,CAAe;QAA0B,kBAAa,GAAb,aAAa,CAAc;QAAQ,cAAS,GAAT,SAAS,CAAU;QANzH,eAAU,GAAS,KAAK,CAAC;QAIzB,UAAK,GAAQ,CAAC,CAAC;QAGb,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC;IACf,CAAC;IAED,iCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,mCAAU,GAAV;QAAA,iBAqDG;QApDD,IAAI,WAAW,GAAG,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAG5D,6BAA6B;QACzB,IAAI,OAAO,GAAG;YACZ,6BAA6B;YAC7B,eAAe;YACf,KAAK,EAAE,CAAC;YACR,IAAI,EAAC,KAAK;YACV,OAAO,EAAC,KAAK;YAEb,OAAO,EAAC,KAAK;YACb,SAAS,EAAE,IAAI;YACf,YAAY,EAAE,KAAK;YACnB,MAAM,EAAE,IAAI;YACZ,OAAO,EAAE,KAAK;YACd,SAAS,EAAE,IAAI;YACf,OAAO,EAAE,IAAI;YACb,WAAW,EAAE,IAAI;SAElB,CAAC;QAEF,oBAAoB;QACpB,IAAI,GAAG,GAAc,EAAE,CAAC;QACxB,GAAG,EAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAG,EAAC,CAAC;YACxC,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACvB,EAAE,EAAC,EAAE,CAAC,QAAQ,IAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,EAAC;gBAC7E,IAAI,EAAE,GAAO,EAAE,CAAC;gBAChB,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,QAAQ,CAAC;gBACrB,EAAE,EAAC,EAAE,CAAC,KAAK,CAAC,EAAC;oBACX,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC;gBAClB,CAAC;gBACD,EAAE,EAAC,EAAE,CAAC,MAAM,CAAC,EAAC;oBACZ,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC;gBACnB,CAAC;gBACD,EAAE,CAAC,IAAI,GAAG,MAAM,GAAG,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC;gBACtC,EAAE,CAAC,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,GAAG,MAAM,CAAC;gBAEpC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACf,CAAC;QACH,CAAC;QAEF,mCAAmC;QAClC,IAAI,OAAO,GAAG,IAAI,UAAU,CAAE,WAAW,EAAE,oBAAoB,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;QAC/E,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,UAAC,KAAK,EAAE,IAAI;YACxC,IAAI,EAAE,GAAG,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,IAAI,GAAG,kCAAkC,GAAG,MAAM,GAAG,QAAQ,CAAC;QACrE,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,MAAM,CAAC,OAAO,EAAE,UAAC,EAAE,EAAC,IAAI;YAC9B,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,CAAC,IAAI,EAAE,CAAC;IACf,CAAC;IAvEQ,cAAc;QApD1B,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,w5EAgDT;SACF,CAAC;yCAS4B,oEAAa,EAAS,gEAAS,EAAsB,6EAAa,EAAkB,qEAAS;OAR9G,cAAc,CAyE1B;IAAD,qBAAC;CAAA;AAzE0B;;;;;;;;;;;;AC1DgD;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJG;AACG;AACe;AACjC;AAES;AACC;AACD;AACA;AACH;AACA;AACqB;AACM;AAClB;AACN;AACA;AACY;AACJ;AACJ;AACc;AAClB;AACA;AACe;AACG;AAEd;AACM;AAC3D,+DAA+D;AACX;AACN;AACqB;AACX;AACE;AACD;AAwEzD;IAAA;IAAwB,CAAC;IAAZ,SAAS;QAtErB,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAK;gBACL,qEAAS;gBACT,kEAAQ;gBACR,qEAAS;gBACT,qEAAS;gBACT,kEAAQ;gBACR,wFAAe;gBACf,kFAAa;gBACb,wFAAmB;gBACnB,sEAAQ;gBACR,0EAAS;gBACT,wFAAa;gBACb,4EAAS;gBACT,8FAAkB;gBAClB,sEAAS;gBACT,sEAAS;gBACT,qFAAc;gBACd,wFAAe;aAChB;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAC;oBACxB,cAAc,EAAE,EAAE;oBAClB,cAAc,EAAE,uBAAuB,CAAC,YAAY;iBACrD,EACL;oBACE,KAAK,EAAE,EAEN;iBACF,CAAC;gBACE,2EAAkB,CAAC,OAAO,CAAC;oBACzB,IAAI,EAAE,WAAW;oBACjB,WAAW,EAAE,CAAC,WAAW,EAAE,QAAQ,EAAE,QAAQ,CAAC;iBAC/C,CAAC;aACH;YACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;YACrB,eAAe,EAAE;gBACf,6DAAK;gBACL,kEAAQ;gBACR,qEAAS;gBACT,qEAAS;gBACT,qEAAS;gBACT,kEAAQ;gBACR,wFAAe;gBACf,sEAAQ;gBACR,0EAAS;gBACT,wFAAa;gBACb,4EAAS;gBACT,8FAAkB;gBAClB,sEAAS;gBACT,sEAAS;gBACT,qFAAc;gBACd,wFAAe;aAChB;YACD,SAAS,EAAE;gBACT,4EAAS;gBACT,kFAAY;gBACZ,iBAAiB;gBACjB,sEAAS;gBACT,sEAAS;gBACT,8EAAa;gBACb,qEAAM;gBACN,+EAAW;gBACX,kFAAY;gBACZ,gFAAW;gBACX,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;aACrD;SACF,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzG8B;AACX;AACY;AACM;AACG;AACL;AAIR;AACA;AACA;AACA;AACH;AACG;AAIjD;IAUE,eAAoB,QAAkB,EAAE,SAAoB,EAAE,YAA0B,EAAC,SAAmB,EACzF,SAA0B,EAAQ,aAA2B,EAAQ,SAAmB;QAD3G,iBAeC;QAfmB,aAAQ,GAAR,QAAQ,CAAU;QACnB,cAAS,GAAT,SAAS,CAAiB;QAAQ,kBAAa,GAAb,aAAa,CAAc;QAAQ,cAAS,GAAT,SAAS,CAAU;QAT3G,UAAK,GAAG,qEAAS,CAAC;QAClB,UAAK,GAAG,qEAAS,CAAC;QAClB,SAAI,GAAG,kEAAQ,CAAC;QAChB,UAAK,GAAG,qEAAS,CAAC;QAElB,sBAAiB,GAAS,KAAK,CAAC;QAK9B,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACzB,gEAAgE;YAChE,iEAAiE;YACjE,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;YACpB,mBAAmB;YACnB,KAAI,CAAC,wBAAwB,EAAE,CAAC,WAAU;YAC1C,MAAM,CAAC,gBAAgB,CAAC,GAAC,SAAS,CAAC;YACnC,MAAM,CAAC,eAAe,CAAC,GAAC,aAAa,CAAC;YACtC,aAAa,CAAC,WAAW,EAAE,CAAC;YAC5B,SAAS,CAAC,WAAW,EAAE,CAAC;YACxB,SAAS,CAAC,WAAW,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,+BAAe,GAAf;QACE,IAAI,CAAC,aAAa,CAAC,GAAG,GAAC,IAAI,CAAC,GAAG,CAAC;IAClC,CAAC;IAED,wBAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAC,EAAE,CAAC,CAAC;IACzB,CAAC;IAED,wCAAwB,GAAxB;QAAA,iBAeC;QAdC,IAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC;YACrC,IAAI,QAAQ,GAAG,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC;YACpC,IAAI,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC;YAC7B,EAAE,EAAC,KAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,CAAC,EAAC;YAEjD,CAAC;YAAC,IAAI,CAAC,EAAE,EAAC,KAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,EAAC;gBAC9B,KAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;YACjB,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,yEAAyE;gBACzE,EAAE,EAAC,IAAI,YAAY,qEAAS,CAAC,CAAC,CAAC;oBAC7B,KAAI,CAAC,QAAQ,EAAE,CAAC;gBAClB,CAAC;YACH,CAAC;QACH,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAGD,SAAS;IACT,wBAAQ,GAAR;QAAA,iBAoBC;QAnBC,IAAI,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YACjC,KAAK,EAAE,OAAO;YACd,OAAO,EAAE,cAAc;YACvB,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAI;wBACX,KAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;oBAC1B,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAI;oBAEb,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,MAAM,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAlEqB;QAArB,yEAAS,CAAC,SAAS,CAAC;kCAAM,oEAAa;sCAAA;IAR7B,KAAK;QAHjB,wEAAS,CAAC;WACc;SACxB,CAAC;iKAW8B,wEAAqB,EAAyD;YAC9E,EAA6E;OAXhG,KAAK,CA4EjB;IAAD,CAAC;AAAA;SA5EY,KAAK,2B;;;;;;;;;;;;;;;;;;;;;;;;AClBwB;AACE;AAED;AACA;AACA;AACH;AAKxC;IAOE,kBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;QALzC,UAAK,GAAG,+DAAS,CAAC;QAClB,UAAK,GAAG,+DAAS,CAAC;QAClB,SAAI,GAAG,4DAAQ,CAAC;QAChB,UAAK,GAAG,+DAAS,CAAC;IAIlB,CAAC;IAED,2BAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAC,EAAE,CAAC,CAAC;IAC7B,CAAC;IAbU,QAAQ;QAHpB,wEAAS,CAAC;WACe;SACzB,CAAC;iBAQyC;OAP9B,QAAQ,CAepB;IAAD,CAAC;AAAA;SAfY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;;ACXqB;AAEC;AACA;AACA;AACH;AAKxC;IAOE;QALA,aAAQ,GAAG,+DAAS,CAAC;QACrB,aAAQ,GAAG,4DAAQ,CAAC;QACpB,aAAQ,GAAG,+DAAS,CAAC;QACrB,aAAQ,GAAG,+DAAS,CAAC;IAIrB,CAAC;IATU,QAAQ;QAHpB,wEAAS,CAAC;WACe;SACzB,CAAC;;OACW,QAAQ,CAUpB;IAAD,CAAC;AAAA;SAVY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;ACV6B;AACJ;AAC9C,+DAA+D;AACX;AAIpD,IAAM,QAAQ,GAAO;IACnB,YAAY,EAAC,kBAAkB;IAC/B,QAAQ,EAAE,yBAAyB;IACnC,MAAM,EAAE,IAAI;IACZ,EAAE,EAAE,gCAAgC;IACpC,QAAQ,EAAE,CAAC;IACX,SAAS,EAAE,CAAC;IACZ,QAAQ,EAAE,gCAAgC;IAC1C,YAAY,EAAE,gCAAgC;IAC7C,KAAK,EAAE,IAAI;CACb;AAMD;IAEE,uBAAmB,OAAsB,EAAC,qCAAqC,CAAO,SAAmB;QAAtF,YAAO,GAAP,OAAO,CAAe;QAA6C,cAAS,GAAT,SAAS,CAAU;IAEzG,CAAC;IAED,gCAAQ,GAAR;IAEA,CAAC;IAED,uCAAe,GAAf;IAEA,CAAC;IAED,0CAAkB,GAAlB;IAEA,CAAC;IAED,qCAAa,GAAb;IAEA,CAAC;IApBU,aAAa;QAJzB,wEAAS,CAAC;YACT,QAAQ,EAAC,WAAW;WACS;SAC9B,CAAC;sBAGyG;OAF9F,aAAa,CAsBzB;IAAD,CAAC;AAAA;SAtBY,aAAa,e;;;;;;;;;;;;;;;;;;;;;ACvBmD;AACzB;AACQ;AAqC5D;IAWE,mBAAmB,SAAmB,EAAS,aAA2B;QAAvD,cAAS,GAAT,SAAS,CAAU;QAAS,kBAAa,GAAb,aAAa,CAAc;QAR1E,SAAI,GAAK,EAAE,CAAC;QAGZ,iBAAY,GAAS,KAAK,CAAC;QAI3B,YAAO,GAAW,KAAK,CAAC;IAGxB,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAQC;QAPC,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,GAAC,IAAI,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAC;YACnD,KAAI,CAAC,OAAO,GAAC,KAAK,CAAC;YACnB,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,4BAA4B,CAAC,GAAC,EAAE,CAAC;YAC7D,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,GAAC,EAAE,CAAC;YACrD,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,GAAC,EAAE,CAAC;QAChD,CAAC,EAAC,KAAK,CAAC,CAAC;IACX,CAAC;IAED,iCAAa,GAAb;QACE,IAAI,CAAC,OAAO,GAAC,CAAC,IAAI,CAAC,OAAO,CAAC;QAC3B,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QACrC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACtC,CAAC;IACH,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,4BAA4B,CAAC,GAAC,MAAM,CAAC;QACjE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,GAAC,MAAM,CAAC;QACzD,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,GAAC,MAAM,CAAC;QAElD,EAAE,EAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YAChB,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;YAClB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QACrC,CAAC;IACH,CAAC;IAxCD;QADC,oEAAK,CAAC,IAAI,CAAC;;2CACA;IAGZ;QADC,oEAAK,CAAC,cAAc,CAAC;;mDACK;IAEJ;QAAtB,yEAAS,CAAC,UAAU,CAAC;kCAAU,iEAAU;+CAAC;IARhC,SAAS;QAnCrB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,+lCA+BT;SACF,CAAC;yCAY6B,qEAAS,EAAuB,6EAAa;OAX/D,SAAS,CA6CrB;IAAD,gBAAC;CAAA;AA7CqB;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvCuD;AACzB;AACQ;AACd;AAEH;AACwB;AACf;AACM;AAyC1D;IAsBE,0BAA0B;IAC1B,mBAAmB,SAAmB,EAAS,aAA2B,EAAQ,OAAsB,EAAQ,SAAmB;QAAhH,cAAS,GAAT,SAAS,CAAU;QAAS,kBAAa,GAAb,aAAa,CAAc;QAAQ,YAAO,GAAP,OAAO,CAAe;QAAQ,cAAS,GAAT,SAAS,CAAU;QApBnI,SAAI,GAAK,EAAE,CAAC;QAGZ,eAAU,GAAS,KAAK,CAAC;QAGzB,iBAAY,GAAS,KAAK,CAAC;QAG3B,YAAO,GAAS,KAAK,CAAC;QAItB,YAAO,GAAS,KAAK,CAAC;QAGtB,iBAAY,GAAS,KAAK,CAAC;QAC3B,YAAO,GAAK,EAAE,CAAC;IAKf,CAAC;IAED,4BAAQ,GAAR;IAEA,CAAC;IAED,mCAAe,GAAf;QAAA,iBAeC;QAdC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAC;YACzB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,cAAI;gBACvD,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC,CAAC,CAAC;QACL,CAAC;QACD,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;YAChB,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,GAAC,IAAI,CAAC;YAC7C,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAC;gBACnD,KAAI,CAAC,OAAO,GAAC,KAAK,CAAC;gBACnB,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,4BAA4B,CAAC,GAAC,EAAE,CAAC;gBAC7D,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,GAAC,EAAE,CAAC;gBACrD,KAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,GAAC,EAAE,CAAC;YAChD,CAAC,EAAC,KAAK,CAAC,CAAC;QACX,CAAC;IACH,CAAC;IAED,6BAAS,GAAT;QACE,IAAI,CAAC,OAAO,GAAC,CAAC,IAAI,CAAC,OAAO,CAAC;QAC3B,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YACf,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;QACrC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;QACtC,CAAC;IACH,CAAC;IAED,6BAAS,GAAT,UAAU,QAAsB,EAAC,IAAQ;QAA/B,2CAAsB;QAC9B,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC,EAAC;YACf,+CAA+C;YAC/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8EAAc,EAAC,EAAC,IAAI,QAAC,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IAED,+BAAW,GAAX,UAAY,IAAQ,EAAC,QAAgB;QACnC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,OAAO,CAAC,GAAG,EAAE,CAAC;QACd,EAAE,EAAC,OAAO,CAAC,WAAW,CAAC,EAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uFAAkB,EAAC,EAAE,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,CAAC;QACxE,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,qEAAqE;YACrE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,+DAAS,EAAC,EAAE,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,CAAC;QAC/D,CAAC;IACH,CAAC;IAvED;QADC,oEAAK,CAAC,IAAI,CAAC;;2CACA;IAGZ;QADC,oEAAK,EAAE;;iDACiB;IAGzB;QADC,oEAAK,EAAE;;mDACmB;IAG3B;QADC,oEAAK,EAAE;;8CACc;IAEC;QAAtB,yEAAS,CAAC,UAAU,CAAC;kCAAU,iEAAU;+CAAC;IAGpB;QAAtB,yEAAS,CAAC,UAAU,CAAC;kCAAU,iEAAU;+CAAC;IAjBhC,SAAS;QAvCrB,wEAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,QAAQ,EAAE,ytDAmCT;SACF,CAAC;yCAwB6B,qEAAS,EAAuB,6EAAa,EAAiB,oEAAa,EAAkB,qEAAS;OAvBxH,SAAS,CA4ErB;IAAD,gBAAC;CAAA;AA5EqB;;;;;;;;;;;;;;;;;;;;;ACjD8B;AACK;AAGzD;IAEE,6BAAoB,SAAuB;QAAvB,cAAS,GAAT,SAAS,CAAc;IAAG,CAAC;IAE/C,uCAAS,GAAT,UAAU,GAAW;QACnB,IAAI,GAAG,GAAG,GAAG,CAAC,UAAU,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;QAClG,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAPU,mBAAmB;QAD/B,mEAAI,CAAC,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC;yCAGC,+EAAY;OAFhC,mBAAmB,CAQ/B;IAAD,0BAAC;CAAA;AAR+B;;;;;;;;;;;;;;;;;;;;;ACJW;AACH;AAKxC;IAUE,mBAAoB,SAAoB;QAApB,cAAS,GAAT,SAAS,CAAW;QARxC,YAAO,GAAQ,CAAC,CAAC;QACjB,aAAQ,GAAQ,CAAC,CAAC;QAClB,WAAM,GAAQ,CAAC,CAAC;QAEhB,YAAO,GAAQ,CAAC,CAAC;IAMjB,CAAC;IAED,+BAAW,GAAX;QACE,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,gCAAY,GAAZ;QAAA,iBAyBC;QAvBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAE3B,IAAI,WAAW,GAAG,KAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;YACvD,IAAI,QAAQ,GAAG;gBACb,OAAO,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,UAAC,MAAM;oBACpC,WAAW,CAAC,SAAS,GAAC,MAAM,CAAC;oBAC7B,KAAI,CAAC,QAAQ,EAAE,CAAC;oBAChB,IAAI,CAAC,MAAM,CAAC,CAAC;gBACf,CAAC,EAAC,UAAC,GAAG;oBACJ,WAAW,CAAC,SAAS,GAAC,EAAE,CAAC;oBACzB,IAAI,CAAC,EAAE,CAAC,CAAC;gBACX,CAAC,CAAC,CAAC;YACL,CAAC;YAED,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAC,OAAO;gBACjD,WAAW,CAAC,OAAO,GAAC,OAAO,CAAC;gBAC5B,QAAQ,EAAE,CAAC;YACb,CAAC,EAAC,aAAG;gBACH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,QAAQ,EAAE,CAAC;YACb,CAAC,CAAC;QACJ,CAAC,CACF;IACD,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAmCC;QAlCC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,IAAI,WAAW,GAAG,KAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;YACvD,IAAI,OAAO,GAAG;gBACZ,EAAE,EAAC,CAAC,CAAC,WAAW,CAAC,OAAO,IAAI,WAAW,CAAC,OAAO,IAAI,IAAI,CAAC,EAAC;oBACvD,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;wBACpD,EAAE,EAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,WAAW,CAAC,OAAQ,CAAC,CAAC,CAAC;4BACvD,WAAW,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;4BAC7C,KAAK,CAAC;wBACR,CAAC;oBACH,CAAC;gBACH,CAAC;gBAAA,IAAI,CAAC,EAAE,EAAC,WAAW,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;oBACzC,WAAW,CAAC,OAAO,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;oBAClD,WAAW,CAAC,KAAK,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC/C,CAAC;gBAAA,IAAI,CAAC,CAAC;oBACL,WAAW,CAAC,OAAO,GAAG,EAAE,CAAC;oBACzB,WAAW,CAAC,KAAK,GAAG,IAAI,CAAC;gBAC3B,CAAC;gBACD,EAAE,EAAC,WAAW,CAAC,KAAK,CAAC,EAAC;oBACpB,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC;oBAC/B,KAAI,CAAC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,IAAI,EAAE,EAAC,qBAAqB,CAAC,CAAC,CAAC;gBACrF,CAAC;gBACD,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC1B,CAAC;YAED,EAAE,EAAC,WAAW,CAAC,SAAS,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;gBACrC,KAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC;oBACvB,OAAO,EAAE,CAAC;gBACZ,CAAC,EAAC;oBACA,IAAI,CAAC,EAAE,CAAC,CAAC;gBACX,CAAC,CAAC;YACJ,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,OAAO,EAAE,CAAC;YACZ,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,iCAAa,GAAb,UAAc,MAAM;QAClB,IAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;QACnC,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAC1D,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAC9B,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IAEtC,CAAC;IAED,4BAAQ,GAAR,UAAS,MAAM;QAAf,iBAmBC;QAlBC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,EAAE,EAAC,KAAI,CAAC,KAAK,CAAC,EAAC;gBACb,IAAI,MAAM,GAAG,EAAE,CAAC;gBAChB,EAAE,EAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,EAAC;oBACtB,IAAI,QAAQ,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;oBACnC,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;gBACxD,CAAC;gBACD,IAAI,CAAC,MAAM,CAAC,CAAC;YACf,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,KAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;oBACnB,IAAI,QAAQ,GAAG,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC;oBACnC,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;oBAC1D,IAAI,CAAC,MAAM,CAAC,CAAC;gBACf,CAAC,CAAC;YACJ,CAAC;QACH,CAAC,CAAC;IAGJ,CAAC;IAhHU,SAAS;QADrB,yEAAU,EAAE;yCAWoB,6DAAS;OAV7B,SAAS,CAkHrB;IAAD,gBAAC;CAAA;AAlHqB;;;;;;;;;;;;;;;;;;;;;;;;ACN2B;AACwB;AACrB;AACQ;AACR;AASpD;IAiBE,8BAA8B;IAE9B,mBAAmB,SAAmB,EAAQ,OAAsB,EAAU,SAA0B,EAAS,SAAmB,EAC1H,aAA2B,EAAC,MAAiB;QADpC,cAAS,GAAT,SAAS,CAAU;QAAQ,YAAO,GAAP,OAAO,CAAe;QAAU,cAAS,GAAT,SAAS,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAU;QAC1H,kBAAa,GAAb,aAAa,CAAc;QAlBrC,aAAQ,GAAO;YACb,KAAK,EAAC,EAAE,EAAE,IAAI,EAAC,EAAE,EAAE,OAAO,EAAC,EAAE,EAAE,QAAQ,EAAC,CAAC,EAAE,SAAS,EAAC,CAAC;YACtD,YAAY,EAAC,EAAE,EAAE,OAAO,EAAC,EAAE,EAAE,OAAO,EAAC,EAAE;SACxC;QAMD,WAAM,GAAS,KAAK,CAAC;QAErB,UAAK,GAAY,EAAE,CAAC;QAEpB,eAAU,GAAY,EAAE,CAAC;QAMvB,EAAE,EAAC,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;YACjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YACjC,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;gBACxC,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBACzC,EAAE,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC;wBAC5C,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAChC,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC,OAAO,CAAC;QAChE,CAAC;QAED,0CAA0C;IAC5C,CAAC;IAED,4BAAQ,GAAR;QACE,IAAI,CAAC,WAAW,EAAE,CAAC;QAEnB,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;YACpC;;;;;;;;;;;;;;;;;;;;;;eAsBG;QAEL,CAAC;IAEH,CAAC;IAED,+BAAW,GAAX;QAAA,iBAoCC;QAnCC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,cAAc;YACrB,MAAM,EAAE;gBACN;oBACE,IAAI,EAAE,MAAM;oBACZ,WAAW,EAAE,YAAY;iBAC1B;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,WAAW,EAAE,UAAU;iBACxB;aACF;YACD,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,QAAQ;oBACd,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE,cAAI;wBACX,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;wBAC9B,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;oBACzC,CAAC;iBACF;gBACD;oBACE,IAAI,EAAE,KAAK;oBACX,OAAO,EAAE,cAAI;wBACX,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;oBACtB,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,OAAO,EAAC;YACpD,KAAK,CAAC,OAAO,EAAE,CAAC;YAChB,KAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,OAAO,CAAC,CAAC;YACvD,MAAM,CAAC,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,4BAAQ,GAAR,UAAS,IAAI;QAAb,iBAQC;QAPC,iCAAiC;QACjC,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC;QACd,OAAO,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,cAAI;YACrC,KAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC,EAAC,aAAG;YACH,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,oCAAgB,GAAhB;QAAA,iBAmCC;QAlCC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,EAAE,EAAC,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC;gBACpC,KAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC3C,CAAC;YAAA,IAAI,CAAC,CAAC;gBACL,IAAI,CAAC,QAAQ,CAAC,CAAC;YACjB,CAAC;YACD,IAAI,QAAQ,GAAO;gBACjB,OAAO,EAAC,KAAI,CAAC,QAAQ,CAAC,OAAO;gBAC7B,OAAO,EAAC,KAAI,CAAC,QAAQ,CAAC,OAAO;gBAC7B,YAAY,EAAC,KAAI,CAAC,QAAQ,CAAC,YAAY;gBACvC,KAAK,EAAC,KAAI,CAAC,QAAQ,CAAC,KAAK;gBACzB,IAAI,EAAC,KAAI,CAAC,QAAQ,CAAC,IAAI;gBACvB,QAAQ,EAAC,KAAI,CAAC,QAAQ,CAAC,QAAQ;gBAC/B,SAAS,EAAC,KAAI,CAAC,QAAQ,CAAC,SAAS;gBACjC,OAAO,EAAC,KAAI,CAAC,QAAQ,CAAC,OAAO;aAC9B;YACD,EAAE,EAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC;gBACnB,QAAQ,CAAC,EAAE,GAAG,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YACjC,CAAC;YACD,OAAO,CAAC,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,WAAe;gBAChF,4BAA4B;gBAC5B,EAAE,EAAC,CAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAC;oBACpB,KAAI,CAAC,QAAQ,CAAC,EAAE,GAAG,WAAW,CAAC,EAAE,CAAC;gBACpC,CAAC;gBACD,IAAI,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;YACtB,CAAC,EAAC,aAAG;gBACH,4BAA4B;gBAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACjC,IAAI,CAAC,GAAG,CAAC,CAAC;YACZ,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC;IAEJ,CAAC;IAED,mCAAe,GAAf,UAAgB,EAAE;QAAlB,iBAiCC;QAhCC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,IAAI,YAAY,GAAG,UAAC,aAAiB;gBACnC,iBAAiB;gBACjB,EAAE,EAAC,aAAa,CAAC,EAAC;oBAChB,EAAE,CAAC,OAAO,GAAG,aAAa,CAAC,EAAE,GAAC,EAAE,CAAC;oBACjC,EAAE,EAAC,aAAa,CAAC,SAAS,CAAC,EAAC;wBAC1B,EAAE,CAAC,QAAQ,GAAG,aAAa,CAAC,SAAS,CAAC;oBACxC,CAAC;oBACD,EAAE,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC;oBAC7C,EAAE,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC;oBAC7C,EAAE,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;oBACrC,EAAE,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;oBACjC,EAAE,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC;gBACjC,CAAC;gBACD,OAAO,CAAC,EAAE,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,aAAiB;oBAC1E,yBAAyB;oBACzB,IAAI,CAAC,aAAa,CAAC,CAAC;gBACtB,CAAC,EAAC,aAAG;oBACH,IAAI,CAAC,GAAG,CAAC,CAAC;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC;YACD,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;gBACT,8CAA8C;gBAC9C,KAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAC,KAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,UAAC,aAAiB;oBACpF,YAAY,CAAC,aAAa,CAAC,CAAC;gBAC9B,CAAC,EAAC,aAAG;oBACH,IAAI,CAAC,GAAG,CAAC,CAAC;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC;YAAA,IAAI,EAAC;gBACJ,YAAY,CAAC,IAAI,CAAC,CAAC;YACrB,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAGD;;;;;;;;OAQG;IAEH,4BAAQ,GAAR;QACE,EAAE,EAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAC;YACzB,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QACD,IAAI,KAAS,CAAC;QACd,GAAG,EAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAC,CAAC,EAAE,EAAE,CAAC;YAC3C,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,IAAG,IAAI,CAAC,QAAQ,CAAC,OAAQ,CAAC,EAAC;gBAChD,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC1B,KAAK,CAAC;YACR,CAAC;QACH,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACf,CAAC;IAED,gCAAY,GAAZ;QAAA,iBA+DC;QA7DC,EAAE,EAAC,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC;YACpD,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;YACvC,yBAAyB;YACzB,MAAM,CAAC;QACT,CAAC;QAED,EAAE,EAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,CAAC,CAAC,EAAC;YAC7B,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAC9B,MAAM,CAAC;QACT,CAAC;QAED,EAAE,EAAgC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;YAChD,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;YAC9B,MAAM,CAAC;QACT,CAAC;QAED,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAEvC,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YAC9C,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3C,CAAC;QAED,EAAE,EAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;YAC1B,OAAO,CAAC,EAAE,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,YAAY,CAAC,CAAC;YACjE,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAC,YAAY,CAAC,CAAC;QAC5D,CAAC;QAED,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC;YACxB,OAAO,CAAC,GAAG,EAAE,CAAC;YACd,KAAI,CAAC,gBAAgB,EAAE,CAAC,IAAI,CAAC,UAAC,WAAe;gBAC3C,IAAI,GAAG,GAAC,CAAC,CAAC;gBACV,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBACzC,IAAI,SAAS,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;oBAC9B,OAAO,CAAC,EAAE,CAAC,6BAA6B,CAAC,EAAC,SAAS,EAAC,WAAW,CAAC,EAAE,EAAC,WAAW,EAAC,SAAS,CAAC,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,UAAC,KAAS;wBAC3G,gCAAgC;wBAChC,GAAG,EAAE,CAAC;wBACN,EAAE,EAAC,GAAG,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC;4BAC3B,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;wBACnC,CAAC;oBACH,CAAC,EAAC,aAAG;wBACH,4BAA4B;wBAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,GAAG,EAAE,CAAC;wBACN,EAAE,EAAC,GAAG,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC;4BAC3B,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;4BACjC,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,SAAS,EAAC,IAAI,CAAC,CAAC;wBAClD,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;YACH,CAAC,EAAC,aAAG;gBACH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACjC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;YAC/B,CAAC,CAAC;QAEJ,CAAC,EAAC,aAAG;YACH,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACjC,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC;IAEL,CAAC;IAGD,iCAAa,GAAb;QAAA,iBA6BC;QA5BC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,EAAE,EAAC,CAAC,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,IAAI,CAAC,KAAI,CAAC,MAAM,CAAC,EAAC;gBACpD,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;gBACvC,MAAM,CAAC;YACT,CAAC;YAED,IAAI,GAAG,GAAG,CAAC,CAAC;YACZ,IAAI,OAAO,GAAG,UAAC,EAAE;gBACf,KAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,SAAa;oBAC1C,EAAE,EAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAC;wBACT,EAAE,CAAC,EAAE,GAAE,SAAS,CAAC,EAAE,CAAC;oBACtB,CAAC;oBACD,GAAG,EAAE,CAAC;oBACN,EAAE,EAAC,GAAG,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC;wBAC3B,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC;oBACnB,CAAC;gBACH,CAAC,EAAC,aAAG;oBACH,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,CAAC,GAAG,CAAC,CAAC;gBACZ,CAAC,CAAC;YACJ,CAAC;YAED,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBACzC,IAAI,EAAE,GAAG,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvB,OAAO,CAAC,EAAE,CAAC,CAAC;YACd,CAAC;QACH,CAAC,CAAC;IAEJ,CAAC;IAED,+BAAW,GAAX;QACE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC;QACjE;;;;cAIM;IACP,CAAC;IAED,kCAAc,GAAd;QAAA,iBAkCD;QAjCG,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,IAAI,WAAW,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACtC,KAAK,EAAE,KAAK;gBACZ,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,aAAa;wBACnB,OAAO,EAAE;4BACP,IAAI,CAAC,CAAC,CAAC,CAAC;wBACV,CAAC;qBACF,EAAC;wBACA,IAAI,EAAE,IAAI;wBACV,OAAO,EAAE;4BACP,IAAI,CAAC,CAAC,CAAC,CAAC;wBACV,CAAC;qBACF,EAAC;wBACA,IAAI,EAAE,IAAI;wBACV,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE;4BACP,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;wBACX,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YACH,KAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,gBAAgB,EAAC;gBAC7D,WAAW,CAAC,OAAO,EAAE,CAAC;gBACtB,KAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;gBAChE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACT,MAAM,CAAC,IAAI,CAAC;YACd,CAAC,CAAC,CAAC;YACH,WAAW,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC,CACF;IACH,CAAC;IAEC,6BAAS,GAAT;QAAA,iBAuEC;QAtEC,YAAY;QACZ,IAAI,IAAI,GAAO,EAAE,CAAC;QAClB,IAAI,CAAC,cAAc,EAAE,CAAC,IAAI,CAAC,cAAI;YAE7B,IAAI,iBAAiB,GAAG,UAAC,IAAI;gBAC3B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,6BAA6B;gBAC7B,KAAI,CAAC,MAAM,GAAC,IAAI,CAAC;gBAEjB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;gBACtC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;gBAChC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC9B,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC;gBAEnB,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACb,IAAI;oBACJ,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAAC,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpB,QAAQ;oBACR,QAAQ;oBACR,IAAI,GAAG,GAAG,CAAC,CAAC;oBACZ,IAAI,MAAM,GAAa,IAAI,CAAC;oBAC5B,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;wBACpC,IAAI,IAAI,GAAG,KAAK,CAAC;wBACjB,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAI,CAAC,KAAK,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC,CAAC;4BACxC,EAAE,EAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAC;gCAC/C,IAAI,GAAG,IAAI,CAAC;gCACZ,GAAG,EAAE,CAAC;gCACN,KAAK,CAAC;4BACR,CAAC;wBACH,CAAC;wBAED,EAAE,EAAC,CAAC,IAAI,CAAC,EAAC;4BACR,IAAI,GAAG,KAAK,CAAC;4BACb,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;4BACxC,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC7B,CAAC;oBAEH,CAAC;oBACD,EAAE,EAAC,GAAG,GAAG,CAAC,CAAC,EAAC;wBACV,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,GAAG,aAAa,CAAC,CAAC;oBAC5C,CAAC;gBACH,CAAC;gBAAC,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI;oBACJ,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAAA,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;oBACnB,IAAI;oBACJ,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxB,CAAC;gBAED,EAAE,EAAC,CAAC,KAAI,CAAC,QAAQ,IAAI,KAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;oBAC1C,KAAI,CAAC,cAAc,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,CAAC;YAEH,CAAC;YAED,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACd,yEAAyE;gBACzE,KAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC5D,CAAC;YAAC,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACpB,yDAAyD;gBACzD,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC3D,CAAC;YAAA,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC5D,CAAC;YAAA,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;YAC5D,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,kCAAc,GAAd,UAAe,IAAQ;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;QAC/C,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QACvC,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QACzC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QACrC,yCAAyC;QACzC,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC;YACf,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACnC,CAAC;QACD,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;YACd,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACjC,CAAC;QACD,EAAE,EAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,EAAC;YACZ,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,EAAE,CAAC;QAClC,CAAC;QACD,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC;IACnB,CAAC;IAED,gCAAY,GAAZ,UAAa,IAAQ;QACnB,EAAE,EAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;YAClD,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;YAC/B,MAAM,CAAC;QACT,CAAC;QACD,EAAE,EAAC,IAAI,CAAC,EAAE,CAAC,EAAC;YACV,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC7B,CAAC;QACD,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;gBAC1B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;gBACvB,KAAK,CAAC;YACR,CAAC;QACH,CAAC;QACD,IAAI,CAAC,MAAM,GAAC,IAAI,CAAC;IACnB,CAAC;IAED,kCAAc,GAAd,UAAe,GAAG,EAAC,IAAI;QAAvB,iBA+BC;QA9BC,IAAI,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,KAAK,EAAE,KAAK;YACZ,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;wBAC1B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACnB,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;wBACxB,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACnB,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;wBACP,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACnB,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,gBAAgB,EAAC;YAC7D,eAAe,CAAC,OAAO,EAAE,CAAC;YAC1B,KAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,CAAC;YAChE,MAAM,CAAC,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QACH,eAAe,CAAC,OAAO,EAAE,CAAC;IAC5B,CAAC;IAED,iCAAa,GAAb;QACE,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;YACzC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACtC,CAAC;QAED,OAAO,CAAC,EAAE,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAC,YAAY,CAAC,CAAC;QACjE,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,UAAU,EAAC,YAAY,CAAC,CAAC;QAC1D,OAAO,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,aAAa,EAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,4BAAQ,GAAR;QAAA,iBA6BC;QA5BC,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC7B,KAAK,EAAE,IAAI;YACX,OAAO,EAAE;gBACP;oBACE,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACR,KAAI,CAAC,YAAY,EAAE,CAAC;oBACrB,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE;wBACP,KAAI,CAAC,aAAa,EAAE,CAAC;oBACvB,CAAC;iBACF,EAAC;oBACA,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,QAAQ;oBACd,OAAO,EAAE;oBAET,CAAC;iBACF;aACF;SACF,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,UAAU,EAAC;YACvD,EAAE,CAAC,OAAO,EAAE,CAAC;YACb,KAAI,CAAC,aAAa,CAAC,0BAA0B,CAAC,UAAU,CAAC,CAAC;YAC1D,MAAM,CAAC,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QACH,EAAE,CAAC,OAAO,EAAE,CAAC;IACf,CAAC;IA7hBU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,OAAO;WACQ;SAC1B,CAAC;6JAoBoI;YAC5G,MAA+B;OApB5C,SAAS,CA+hBrB;IAAD,CAAC;AAAA;SA/hBY,SAAS,e;;;;;;;;;;;;;;;;;;;;ACboB;AACI;AAM9C;IAEE,mBAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;IAEzC,CAAC;IAJU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;kBAGyC;OAF9B,SAAS,CAMrB;IAAD,CAAC;AAAA;SANY,SAAS,e;;;;;;;;;;;;;;;;;;;;;;;;;;ACP4B;AACW;AACM;AACnE,+DAA+D;AACX;AACA;AACZ;AACoB;AACe;AAK3E,IAAM,QAAQ,GAAO;IACnB,YAAY,EAAC,kBAAkB;IAC/B,QAAQ,EAAE,yBAAyB;IACnC,MAAM,EAAE,IAAI;IACZ,EAAE,EAAE,gCAAgC;IACpC,QAAQ,EAAE,CAAC;IACX,SAAS,EAAG,CAAC;IACb,QAAQ,EAAE,gCAAgC;IAC1C,YAAY,EAAE,gCAAgC;IAC7C,KAAK,EAAE,IAAI;CACb;AAMD;IAcE,mBAAY,qCAAqC,CAAO,SAAmB,EAAQ,SAAmB,EACnF,aAA2B,EAAQ,OAAsB,EACxD,SAAoB,EAAS,WAA8B;QAF/E,iBAQC;QARuD,cAAS,GAAT,SAAS,CAAU;QAAQ,cAAS,GAAT,SAAS,CAAU;QACnF,kBAAa,GAAb,aAAa,CAAc;QAAQ,YAAO,GAAP,OAAO,CAAe;QACxD,cAAS,GAAT,SAAS,CAAW;QAAS,gBAAW,GAAX,WAAW,CAAmB;QAd/E,+BAA+B;QAE/B,SAAI,GAAS,KAAK,CAAC;QAEnB,UAAK,GAAK,EAAE,CAAC;QAEb,UAAK,GAAO;YACV,EAAC,KAAK,EAAC,CAAC,gCAAgC,EAAC,gCAAgC,CAAC,EAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,IAAI,IAAI,EAAE,EAAC;YAC7G,EAAC,KAAK,EAAC,CAAC,gCAAgC,CAAC,EAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,IAAI,IAAI,EAAE,EAAC;YAC5E,EAAC,KAAK,EAAC,CAAC,gCAAgC,CAAC,EAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,IAAI,IAAI,EAAE,EAAC;YAC5E,EAAC,KAAK,EAAC,CAAC,gCAAgC,CAAC,EAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,IAAI,IAAI,EAAE,EAAC;SAC3E,CAAC;QAIF,aAAa,CAAC,WAAW,CAAC,SAAS,EAAC,UAAC,IAAI;YACvC,KAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;gBACnB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YACvB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,4BAAQ,GAAR;IAEA,CAAC;IAED,mCAAe,GAAf;IAEA,CAAC;IAED,mCAAe,GAAf;IAEA,CAAC,gDAA8C;IAE/C,kCAAc,GAAd;IAEA,CAAC,EAAC,kDAAkD;IAEpD,oCAAgB,GAAhB;IAEA,CAAC,iBAAe;IAEhB,oCAAgB,GAAhB;IAEA,CAAC,EAAC,aAAa;IAEf,mCAAe,GAAf;IAEA,CAAC,EAAC,aAAa;IAEf,qCAAiB,GAAjB;IAEA,CAAC,EAAC,YAAY;IAEd,SAAS;IACT,mCAAe,GAAf;IAEE,CAAC,EAAC,kCAAkC;IAEtC,mCAAe,GAAf;IAEA,CAAC,EAAC,kCAAkC;IAEpC,sCAAkB,GAAlB;QACE,wBAAwB;IAC1B,CAAC;IAED,4BAAQ,GAAR;QAAA,iBAeC;QAdC,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,IAAI,EAAC,IAAI;YAC3B,IAAI,OAAO,GAAG,KAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;YACnD,EAAE,EAAC,OAAO,CAAC,WAAW,CAAC,EAAC;gBACtB,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC3B,IAAI,CAAC,IAAI,CAAC,CAAC;YACb,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,UAAC,IAAQ;oBACtC,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;oBAClB,IAAI,CAAC,IAAI,CAAC,CAAC;gBACb,CAAC,EAAC,UAAC,GAAG;oBACJ,IAAI,CAAC,GAAG,CAAC,CAAC;gBACZ,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,kCAAc,GAAd,UAAe,EAAE;QAAjB,iBAUC;QATC,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,6DAAS,EAAE;YAC/C,MAAM,EAAE;gBACN,KAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YACtB,CAAC;SACF,CAAC,CAAC;QACH,OAAO,CAAC,OAAO,CAAC;YACd,EAAE,EAAE,EAAE;SACP,CAAC,CAAC;IACL,CAAC;IAED,sCAAkB,GAAlB,UAAmB,SAAc,EAAC,MAAY,EAAC,WAAgB;QAA/D,iBAcC;QAdkB,4CAAc;QAAC,uCAAY;QAAC,gDAAgB;QAC7D,EAAE,EAAC,WAAW,CAAC,EAAC;YACd,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;QACD,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,SAAS,EAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK;YACzD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,EAAE,EAAC,WAAW,CAAC,EAAC;gBACd,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACnC,CAAC;QACH,CAAC,EAAC,UAAC,GAAG;YACJ,EAAE,EAAC,WAAW,CAAC,EAAC;gBACd,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;YACnC,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iCAAa,GAAb,UAAc,SAAc,EAAC,MAAY,EAAC,WAAgB;QAA1D,iBAmCC;QAnCa,4CAAc;QAAC,uCAAY;QAAC,gDAAgB;QACxD,EAAE,EAAC,WAAW,CAAC,EAAC;YACd,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC1C,CAAC;QAED,IAAI,MAAM,GAAG;YACX,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,EAAC,MAAM,EAAC,KAAI,CAAC,aAAa,CAAC;iBAC9D,IAAI,CAAC,UAAC,KAAS;gBACd,GAAG,EAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;oBACnC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC/B,IAAI,CAAC,OAAO,GAAC,IAAI,CAAC;oBAClB,IAAI,CAAC,EAAE,GAAC,IAAI,CAAC;gBACf,CAAC;gBACD,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,EAAE,EAAC,WAAW,CAAC,EAAC;oBACd,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACnC,CAAC;YACH,CAAC,EAAC,UAAC,GAAG;gBACJ,EAAE,EAAC,WAAW,CAAC,EAAC;oBACd,KAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;gBACnC,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC;QACP,CAAC;QAED,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC,EAAC;YACnC,MAAM,EAAE,CAAC;QACX,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,MAAM,EAAE,CAAC;YACV;;;kBAGM;QACP,CAAC;IACH,CAAC;IAED,+BAAW,GAAX,UAAY,IAAQ,EAAC,QAAgB;QACnC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,EAAE,EAAC,OAAO,CAAC,WAAW,CAAC,EAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uFAAkB,EAAC,EAAE,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,CAAC;QACxE,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iFAAe,EAAC,EAAE,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,CAAC;QACrE,CAAC;IACH,CAAC;IAED,8BAAU,GAAV,UAAW,cAAc;QACvB,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;QACnD,EAAE,EAAC,CAAC,OAAO,CAAC,WAAW,CAAC,EAAC;YACvB,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAC,IAAI,EAAC,KAAK,CAAC,CAAC;QACrD,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,aAAa,CAAC,cAAc,EAAC,IAAI,EAAC,KAAK,CAAC,CAAC;QAChD,CAAC;IAEH,CAAC;IAED,6BAAS,GAAT,UAAU,SAAS;QACjB,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,SAAS,CAAC,CAAC;QAChD,IAAI,CAAC,KAAK,GAAC,EAAE,CAAC;QACd,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,mBAAmB,EAAE,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,EAAE,EAAC,CAAC,OAAO,CAAC,WAAW,CAAC,EAAC;YACvB,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAC,KAAK,EAAC,KAAK,CAAC,CAAC;QACjD,CAAC;QAAA,IAAI,CAAC,CAAC;YACL,IAAI,CAAC,aAAa,CAAC,SAAS,EAAC,KAAK,EAAC,IAAI,CAAC,CAAC;QAC3C,CAAC;IACH,CAAC;IArLU,SAAS;QAJrB,wEAAS,CAAC;YACT,QAAQ,EAAE,YAAY;WACG;SAC1B,CAAC;gKAesG;YACrE,0IAA2C;YAC7C,MAAgD;OAhBpE,SAAS,CAsLrB;IAAD,CAAC;AAAA;SAtLY,SAAS,e;;;;;;;;;;;;;;;;;;;;;;AC7B2B;AACH;AACc;AAEU;AAgPtE;IAIE,kBAAmB,OAAsB,EAAQ,aAA2B;QAAzD,YAAO,GAAP,OAAO,CAAe;QAAQ,kBAAa,GAAb,aAAa,CAAc;QAF5E,eAAU,GAAW,IAAI,CAAC;IAI1B,CAAC;IAED,2BAAQ,GAAR;QACE,yDAAyD;QACzD,6BAA6B;IAC/B,CAAC;IAED,wBAAK,GAAL;QACE,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,uDAAuD,EAAC,UAAS,MAAM;YAC1G,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,EAAC,UAAS,GAAG;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gCAAa,GAAb;QACE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,UAAC,MAAM;YAC1C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACxB,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,+BAAY,GAAZ;QACE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,UAAC,MAAM;YAC5C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,+BAAY,GAAZ;QACE,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,UAAC,MAAM;YAC5C,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,EAAC,UAAC,GAAG;YACJ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,8BAAW,GAAX;QACE,IAAI,IAAI,GAAC,EAAE,eAAe,EAAC,IAAI;YAC7B,YAAY,EAAC,GAAG;YAChB,gBAAgB,EAAC,EAAE;YACnB,eAAe,EAAC,SAAS;SAC1B,CAAC;QAEF,WAAW,CAAC,SAAS,CAAC,IAAI,EAAC,UAAS,SAAS;YAC3C,4KAA4K;YAC5K,GAAG,EAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;QACH,CAAC,EAAC,UAAS,GAAG;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC;IACJ,CAAC;IAED,6BAAU,GAAV;QACE,IAAI,WAAW,GAAG,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAE5D,oBAAoB;QAChB,IAAI,KAAK,GAAG;YACV;gBACE,GAAG,EAAE,gCAAgC;gBACrC,CAAC,EAAE,GAAG;gBACN,CAAC,EAAE,GAAG;aACP;YACD;gBACE,GAAG,EAAE,gCAAgC;gBACrC,CAAC,EAAE,IAAI;gBACP,CAAC,EAAE,GAAG;aACP;YAED;gBACE,GAAG,EAAE,gCAAgC;gBACrC,CAAC,EAAE,IAAI;gBACP,CAAC,EAAE,GAAG;aACP;YAED;gBACE,GAAG,EAAE,gCAAgC;gBACrC,CAAC,EAAE,IAAI;gBACP,CAAC,EAAE,GAAG;aACP;SACF,CAAC;QAEN,6BAA6B;QACzB,IAAI,OAAO,GAAG;YACZ,6BAA6B;YAC7B,eAAe;YACf,KAAK,EAAE,CAAC,CAAC,uBAAuB;SACjC,CAAC;QAEN,mCAAmC;QAC/B,IAAI,OAAO,GAAG,IAAI,UAAU,CAAE,WAAW,EAAE,oBAAoB,EAAE,KAAK,EAAE,OAAO,CAAC,CAAC;QACjF,OAAO,CAAC,IAAI,EAAE,CAAC;IACjB,CAAC;IAGD,8BAAW,GAAX;QACE,IAAI,QAAQ,GAAC;YACX,EAAC,GAAG,EAAC,gCAAgC,EAAE,CAAC,EAAC,GAAG,EAAE,CAAC,EAAC,GAAG,EAAC;YACpD,EAAC,GAAG,EAAC,gCAAgC,EAAE,CAAC,EAAC,GAAG,EAAE,CAAC,EAAC,GAAG,EAAC;YACpD,EAAC,GAAG,EAAC,gCAAgC,EAAC,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC;YAClD,EAAC,GAAG,EAAC,gCAAgC,EAAE,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC;YACnD,EAAC,GAAG,EAAC,gCAAgC,EAAC,CAAC,EAAC,GAAG,EAAC,CAAC,EAAC,GAAG,EAAC;YAClD,EAAC,GAAG,EAAC,gCAAgC,EAAC,CAAC,EAAC,GAAG,EAAE,CAAC,EAAC,GAAG,EAAC;SAOpD,CAAC;QAEF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,uFAAe,EAAC,EAAC,IAAI,EAAC,EAAC,KAAK,EAAC,QAAQ,EAAC,EAAC,CAAC,CAAC;IAE7D,CAAC;IA1HU,QAAQ;QAzOpB,wEAAS,CAAC;YACT,QAAQ,EAAE,ojPAsOT;SACF,CAAC;yCAK4B,oEAAa,EAAsB,6EAAa;OAJjE,QAAQ,CA2HpB;IAAD,eAAC;CAAA;AA3HoB","file":"main.js","sourcesContent":["import { Component,OnInit } from '@angular/core';\nimport { NavController, NavParams ,MenuController,ActionSheetController,PopoverController  } from 'ionic-angular';\nimport { CommonService } from '../../service/CommonService';\nimport { AlbumListPage } from './AlbumListPage';\nimport { PhotoPage } from './photo';\n\ndeclare var myalbum :any;\n\n@Component({\n  selector: 'photo-detail',\n  templateUrl: 'photoDetail.html'\n})\nexport class PhotoDetailPage implements OnInit{\n\n  item:any;\n\n  disabled:boolean=false;\n\n  datas:Array<any>=[];\n\n  constructor(public navCtrl: NavController,params: NavParams,public menuCtrl: MenuController,\n              public actionSheetCtrl: ActionSheetController,public commonService:CommonService\n              ,private popoverCtrl: PopoverController) {\n    this.item = params.data.item;\n    this.disabled = !params.data.editable;\n  }\n\n  ngOnInit() {\n    //this.disabled = true;\n  }\n\n  goBack() {\n    this.navCtrl.pop();\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  openPhoto() {\n    this.navCtrl.push(PhotoPage,{item:this.item})\n  }\n\n  update() {\n    console.log('Update');\n    this.disabled=true;\n    myalbum.db.updateTAlbumData({title:this.item.title,desc:this.item.desc,address:this.item.address\n        ,creationDate:this.item.creationDate},\n      this.item.id).then((result)=>{\n      console.log(result);\n      this.goBack();\n    },(err)=>{\n      console.log(err);\n      myalbum.ui.showAlert('更新失败');\n      this.goBack();\n    });\n\n  }\n\n  doMove() {\n    let popover = this.popoverCtrl.create(AlbumListPage, {\n      albumChange: (albumId)=>{\n        console.log(albumId);\n        this.disabled=true;\n        albumId=parseInt(albumId);\n        if(albumId!=this.item.albumId) {\n          myalbum.db.updateTAlbumData({albumId:albumId},\n            this.item.id).then((result)=>{\n            console.log(result);\n            this.goBack();\n          },(err)=>{\n            console.log(err);\n            myalbum.ui.showAlert('移动失败');\n            //this.goBack();\n          });\n        }\n      }\n    });\n    popover.present();\n  }\n\n  presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: '',\n      buttons: [\n        {\n          text: 'Edit',\n          role: 'destructive',\n          handler: () => {\n            this.disabled=false;\n            console.log('Edit');\n          }\n        },\n        {\n          text: 'Delete',\n          role: 'destructive',\n          handler: () => {\n            console.log('Delete');\n            this.commonService.comfirm('删除将造成此数据永久消失并不可恢复，你确定要做此操作吗？').then(()=>{\n\n              let filePath = this.item.mediaId.substring(this.item.mediaId.indexOf(';')+1);\n              this.commonService.deleteFile(filePath).then(() => {\n                myalbum.db.deleteTAlbumData(this.item.id).then((result)=>{\n                  console.log(result);\n                  this.goBack();\n                },(err)=>{\n                  console.log(err);\n                  myalbum.ui.showAlert('更新数据失败');\n                });//end deleteTAlbumData\n              },(err) => {\n                console.log(err);\n                myalbum.ui.showAlert('删除文件失败');\n              });//end deleteFile\n\n            },() =>{\n              //用户取消删除操作\n            });//end comfirm\n          }\n        },\n        {\n          text: 'Move',\n          role: 'destructive',\n          handler: () => {\n            console.log('Move');\n            this.doMove();\n            //this.goBack();\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            this.disabled=true;\n            console.log('Cancel clicked');\n            this.goBack();\n          }\n        }\n      ]\n    });\n\n    actionSheet.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photoDetail/photoDetail.ts","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\nimport { NavController, NavParams ,MenuController,ActionSheetController,PopoverController  } from 'ionic-angular';\nimport { CommonService } from '../../service/CommonService';\nimport { AlbumListPage } from './AlbumListPage';\nimport { DbService } from '../../service/DbService';\nimport {PhotoDetailPage} from '../photoDetail/photoDetail';\n\ndeclare var myalbum :any;\n\n@Component({\n\n  selector:'photo',\n  template:`    \n\n      <ion-card no-padding (swipe)=\"swipe($event)\">\n        \n      <div *ngIf=\"item.address\" class=\"card-address\" [hidden]=\"hiddenDesc\">{{item.address}}</div>\n      <div  *ngIf=\"item.creationDate\" class=\"card-time\" [hidden]=\"hiddenDesc\">{{item.creationDate}}</div>\n        \n      <img *ngIf=\"item.photoURL&&(item.photoURL.endsWith('jpg') || item.photoURL.endsWith('jpeg'))\"  [src]=\"item.photoURL | cdvphotolibrary\" (click)=\"changePlay(item)\" />\n        \n      <video #videoElt *ngIf=\"item.photoURL && item.photoURL.endsWith('mp4')\" width='320' height='320' (click)=\"playVideo()\"\n      (loadedmetadata)=\"_initVideoView()\" [src]=\"item.photoURL | cdvphotolibrary\" type=\"video/mp4\">\n        Your browser does not support the video tag.\n      </video>\n        \n      <ion-card-content class=\"cards-bg\" [hidden]=\"hiddenDesc\">\n        <ion-card-title *ngIf=\"item.title && item.id!=mainItem.coverId\" >\n          {{item.title}}\n        </ion-card-title>\n        <ion-card-title *ngIf=\"item.id==mainItem.coverId\" >\n          {{mainItem.title}}\n        </ion-card-title>\n        <p *ngIf=\"item.desc && item.id!=mainItem.coverId\">{{item.desc}} </p>\n        <p *ngIf=\"item.id==mainItem.coverId\">{{mainItem.desc}} </p>\n      </ion-card-content>\n\n      <!--<ion-row no-padding [hidden]=\"true\">\n        <ion-col text-right>\n          <button ion-button clear small  icon-start (click)=\"photoDetail(item,true)\">\n            <ion-icon name='share-alt'></ion-icon>\n            编辑\n          </button>\n          <button *ngIf=\"item.photoURL && (item.mediaType=='image' || item.mediaType==null)\"  ion-button clear small  icon-start (click)=\"autoPlay(item)\" [hidden]=\"!autoPlayFlag\">\n            <ion-icon name='share-alt'></ion-icon>\n            播放\n          </button>\n          <button *ngIf=\"item.photoURL && (item.mediaType=='image' || item.mediaType==null)\"  ion-button clear small  icon-start (click)=\"stopPlay()\" [hidden]=\"autoPlayFlag\">\n            <ion-icon name='share-alt'></ion-icon>\n            停止\n          </button>\n        </ion-col>\n      </ion-row>-->\n\n    </ion-card>\n    \n  `\n})\nexport class PhotoPage implements OnInit{\n\n  hiddenDesc:boolean=false;\n\n  item:any;\n  mainItem:any;\n  index:number=0;\n\n  swipe:Function;\n\n  autoPlayTimer:any;\n  autoPlayFlag:boolean = true;\n\n\n  /**\n   * video prop\n   */\n  playing:boolean=false;\n  @ViewChild('videoElt') videoElt:ElementRef;\n\n  @ViewChild('imgBox') imgBox:ElementRef;\n  @ViewChild('imgElt') imgElt:ElementRef;\n\n  @ViewChild('address') address:ElementRef;\n  @ViewChild('creationDate') creationDate:ElementRef;\n\n  constructor(public navCtrl: NavController,params: NavParams,public commonService:CommonService,public dbService:DbService) {\n    this.mainItem = params.data.item;\n    this.item = this.mainItem.datas[0];\n    this.index=0;\n    this.autoPlayFlag = params.data.autoPlay;\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ionViewWillEnter(){\n\n    /*let boxHeight = this.imgBox.nativeElement.offsetHeight; //高度\n     let boxWidth = this.imgBox.nativeElement.offsetWidth; //宽度\n\n     let imgHeight = this.imgElt.nativeElement.offsetHeight; //高度\n     let imgWidth = this.imgElt.nativeElement.offsetWidth; //宽度\n\n     let top = (boxHeight-imgHeight)/2;\n     if(this.imgElt) {\n     this.imgElt.nativeElement.style.top = top+'px';\n     }\n\n     if(this.address) {\n     this.address.nativeElement.style.top = (top+35)+'px';\n     }\n     if(this.creationDate) {\n     this.creationDate.nativeElement.style.top = (top+35)+'px';\n     }*/\n\n  }\n\n  _initVideoView() {\n    if(this.item.photoURL && this.item.photoURL.endsWith('mp4') && !!this.videoElt){\n      this.videoElt.nativeElement.currentTime=0.1;\n      /*this.videoElt.nativeElement.addEventListener('ended',() =>{\n        this.playing=false;\n        this.videoElt.nativeElement['x5-video-player-fullscreen']='';\n        this.videoElt.nativeElement['webkit-playsinline']='';\n        this.videoElt.nativeElement['playsinline']='';\n      },false);*/\n    }\n\n  }\n\n  ngOnInit() {\n\n   let swipe1 = (event)=>{\n      //console.log(event);\n      //向左滑\n      let self = this;\n      if(event.direction==2){\n        this.showNext();\n      }else if(event.direction==4){\n        if(this.index == 0){\n          let it = this.dbService.preAlbumData(this.mainItem);\n          if(it) {\n            this.mainItem = it;\n            this.index = this.mainItem.datas.length;\n            this.item = this.mainItem.datas[--this.index];\n          }\n        }else {\n          this.item = this.mainItem.datas[--this.index];\n        }\n      }\n     //this._initVideoView();\n    }\n\n    this.swipe = swipe1.bind(this);\n\n    if(this.autoPlayFlag){\n      this.autoPlay();\n    }\n\n  }\n\n  playVideo(){\n    this.playing=!this.playing;\n    if(this.playing){\n      this.videoElt.nativeElement.play();\n    } else {\n      this.videoElt.nativeElement.pause();\n    }\n  }\n\n  changePlay(){\n    if(this.autoPlayFlag){\n      this.autoPlayFlag=false;\n      this.stopPlay();\n    }else {\n      this.autoPlayFlag=true;\n      this.autoPlay();\n    }\n  }\n\n  showNext() {\n\n    let next = ()=>{\n      if(this.mainItem) {\n        this.item = this.mainItem.datas[++this.index];\n      }\n    }\n\n    if(this.index < this.mainItem.datas.length-1) {\n        next();\n    } else {\n      this.dbService.nextAlbumData(this.mainItem,this.commonService).then((it:any)=>{\n        this.mainItem=it;\n        this.index=-1;\n        next();\n      },()=>{\n        this.mainItem= this.dbService.firstAlbumData();\n        this.index=-1;\n        next();\n      });\n    }\n  }\n\n  autoPlay(){\n    this.autoPlayTimer = setInterval(()=>{\n      this.showNext();\n    },3000);\n  }\n\n  stopPlay(){\n    if(this.autoPlayTimer){\n       clearInterval(this.autoPlayTimer);\n      this.autoPlayTimer = null;\n    }\n  }\n\n  showOther(){\n    this.hiddenDesc = !this.hiddenDesc;\n  }\n\n\n  ionViewDidEnter(){\n    //(<any>window).StatusBar.show();\n\n  }\n\n  photoDetail(item:any,editable:boolean) {\n    this.navCtrl.push(PhotoDetailPage,{ item:item,editable:editable });\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photoDetail/photo.ts","import { Component,OnInit } from '@angular/core';\nimport { NavController, NavParams ,MenuController,ActionSheetController  } from 'ionic-angular';\nimport { CommonService } from '../../service/CommonService';\nimport { PhotoPage } from './photo';\nimport { DbService } from '../../service/DbService';\n\ndeclare var myalbum :any;\n\n@Component({\n  selector: 'sys-photo-detail',\n  templateUrl: 'sysPhotoDetail.html'\n})\nexport class SysPhotoDetailPage implements OnInit{\n\n  item:any;\n\n  albumList:Array<any>;\n\n  disabled:boolean=false;\n\n  constructor(public navCtrl: NavController,params: NavParams,public menuCtrl: MenuController,\n              public actionSheetCtrl: ActionSheetController,public commonService:CommonService\n              , public dbService:DbService) {\n    this.item = params.data.item;\n    this.disabled=!params.data.editable;\n  }\n\n  ngOnInit() {\n    //this.disabled = true;\n    this.updateAlbum();\n    this.getFileInfo();\n  }\n\n  updateAlbum() {\n    this.albumList=this.dbService.getAlbumDataQParams().albumList;\n  }\n\n  goBack() {\n    this.navCtrl.pop();\n  }\n\n  openMenu() {\n    this.menuCtrl.open();\n  }\n\n  openPhoto() {\n    this.navCtrl.push(PhotoPage,{item:this.item})\n  }\n\n  update() {\n    if(this.item.albumId == null || this.item.albumId == ''){\n      myalbum.ui.showAlert('请选择保存专辑');\n      return;\n    }\n    console.log('Update');\n    this.disabled=true;\n    myalbum.db.insertTAlbumData(this.item).then((result)=>{\n      console.log(result);\n      this.goBack();\n    },(err)=>{\n      console.log(err);\n      myalbum.ui.showAlert('更新失败');\n      this.goBack();\n    });\n  }\n\n  getFileInfo() {\n\n    let doGetLocation = (it:any)=>{\n      this.commonService.showLoading('取图片地址');\n      if(it.longitude>0 && it.latitude>0) {\n        this.commonService.getLocation(it.latitude,it.longitude).then((address)=>{\n          this.item.address = address;\n          this.item.latitude = it.latitude;\n          this.item.longitude = it.longitude;\n          //this.data.creationDate = item.creationDate;\n          console.log(this.item.address);\n          this.commonService.hideLoading();\n        })\n      }else {\n        this.commonService.hideLoading();\n      }\n    };\n\n    let fileUrl = this.item.photoURL;\n    this.commonService.getFileInfo(fileUrl).then((it:any)=>{\n      console.log(it);\n      this.item.creationDate = it.creationDate;\n      if(it.longitude == 0 || it.latitude==0) {\n        this.commonService.showLoading('通过GPS取图片坐标');\n        this.commonService.getPosition().then((position:any)=>{\n          it.latitude=this.item.latitude = position.latitude;\n          it.longitude=this.item.longitude = position.longitude;\n          doGetLocation(it);\n        })\n      } else  {\n        doGetLocation(it);\n      }\n    },(err)=>{\n      console.log(err);\n      this.commonService.hideLoading();\n    });\n  }\n\n  presentActionSheet() {\n    let actionSheet = this.actionSheetCtrl.create({\n      title: '',\n      buttons: [\n        {\n          text: '保存为',\n          role: 'destructive',\n          handler: () => {\n            this.disabled=false;\n            console.log('Edit');\n          }\n        },\n        {\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n            this.disabled=true;\n            console.log('Cancel clicked');\n            this.goBack();\n          }\n        }\n      ]\n    });\n\n    actionSheet.present();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photoDetail/sysPhotoDetail.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 120;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 120\n// module chunks = 0","import { Injectable } from '@angular/core';\n\ndeclare var myalbum :any;\n\nconst PAGE_SIZE:number=10;\n\n@Injectable()\nexport class DbService {\n\n  albumDataQParams:any={\n    albumList:[],\n    month:'',\n    monthDisabled:false,\n    year:'',\n    yearDisabled:false,\n    albumId:'',\n    sysDisabled:false,\n    offset:0,\n    limit:PAGE_SIZE,\n    pageEnd:false,\n    items:[]\n  }\n\n  cacheItems:any = [\n   /* {paths:['assets/imgs/20180118153908.jpg','assets/imgs/20180118153941.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118153941.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118153952.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118154030.jpg'],title:'Good Girl',date:new Date()},*/\n    ];\n  constructor() {\n\n  }\n\n  init() {\n\n  }\n\n  deviceReady(){\n\n  }\n\n  selectAlbumLib(albumName,offset,size) {\n    return myalbum.db.selectAlbumLib();\n  }\n\n  getAlbumDataQParams() {\n    return this.albumDataQParams;\n  }\n\n  resetAlbumData() {\n    this.albumDataQParams.offset=0;\n    this.albumDataQParams.limit=PAGE_SIZE;\n    this.albumDataQParams.pageEnd = false;\n    this.albumDataQParams.items=[];\n  }\n\n  firstAlbumData() {\n    let items = this.getAlbumDataQParams().items;\n    if(items.length >0){\n      return items[0];\n    }\n  }\n\n  nextAlbumData(item:any,commonService:any) {\n    return new Promise((reso,reje)=>{\n      let items = this.getAlbumDataQParams().items;\n      let index = -1;\n      for(let i = 0; i < items.length; i++){\n        if(item.id == items[i].id ) {\n          index = i;\n          break;\n        }\n      }\n      if(index < items.length-1){\n        reso(items[index+1])\n      } else {\n        if(this.albumDataQParams.pageEnd) {\n          return reje(null);\n        }else {\n          let qparams = this.getAlbumDataQParams();\n          if(!qparams.sysDisabled){\n            this.queryAlbumData(null,true).then(()=>{\n              if(index < items.length-1){\n                reso(items[index+1])\n              }else {\n                reje(null);\n              }\n            });\n          }else {\n            this.loadSysPhotos(null,true,commonService).then(()=>{\n              if(index < items.length-1){\n                reso(items[index+1])\n              }else {\n                reje(null);\n              }\n            });\n          }\n        }\n      }\n    })\n\n  }\n\n  preAlbumData(item:any) {\n    let items = this.getAlbumDataQParams().items;\n    for(let i = 0; i < items.length; i++){\n      if(item.id == items[i].id ) {\n        if(i > 0){\n          return items[i-1];\n        }\n      }\n    }\n    return null;\n  }\n\n  deepCopy(p, c) {\n    var c = c || {};\n    for (var i in p) {\n      if (!!p[i] && typeof p[i] === 'object') {\n        c[i] = (p[i].constructor === Array) ? [] : {};\n        this.deepCopy(p[i], c[i]);\n      } else {\n        c[i] = p[i];\n      }\n    }\n    return c;\n  }\n\n  queryAlbumData(refresher,append) {\n\n    return  new Promise((reso,reje)=>{\n      if(this.albumDataQParams.pageEnd) {\n        if(refresher){\n          refresher.complete();\n        }\n        reje('node data');\n        return;\n      }\n\n      if(!this.albumDataQParams.albumId || this.albumDataQParams.albumId == '') {\n        if(refresher){\n          refresher.complete();\n        }\n        reje('album ID不能为空');\n        return;\n      }\n\n      if(this.albumDataQParams.items.length > 0){\n        this.albumDataQParams.offset += this.albumDataQParams.limit;\n      }\n\n      let year = this.albumDataQParams.yearDisabled?this.albumDataQParams.year:null;\n      let month = this.albumDataQParams.monthDisabled?this.albumDataQParams.month:null;\n\n      myalbum.db.selectTAlbumData(this.albumDataQParams.albumId,year,month,\n        this.albumDataQParams.offset,this.albumDataQParams.limit).then((clusterItems)=>{\n\n        if(clusterItems.length == 0){\n          if(!!refresher){\n            refresher.complete();\n          }\n          reje('无数据');\n        }else {\n          let clusterIds = [];\n          for(let i = 0; i < clusterItems.length; i++) {\n            clusterIds.push(clusterItems[i].id);\n          }\n          myalbum.db.selectAlbumDataForCluster(clusterIds).then(albumDatas=>{\n            let cis = [];\n            for(let i = 0; i < clusterItems.length; i++) {\n              let it = this.deepCopy(clusterItems[i],{});\n              it.datas = [];\n              cis.push(it);\n              for(let j = 0; j < albumDatas.length; j++) {\n                  if(albumDatas[j].clusterId == clusterItems[i].id){\n                    let ad = this.deepCopy(albumDatas[j],{});\n                    delete ad.clusterId;\n                    if(clusterItems[i].coverId != albumDatas[j].id){\n                      it.datas.push(ad);\n                    }else {\n                      it.datas.unshift(ad);\n                    }\n                  }\n              }\n            }\n\n            if(cis.length < this.albumDataQParams.limit) {\n              this.albumDataQParams.pageEnd = true;\n            }\n            if(append){\n              for(let i = 0; i < cis.length; i++) {\n                this.albumDataQParams.items.push(cis[i]);\n              }\n            }else {\n              this.albumDataQParams.items=cis;\n            }\n            reso(this.albumDataQParams.items);\n            //this.commonService.hideLoading();\n            if(!!refresher){\n              refresher.complete();\n            }\n          },err=>{\n            reje(err);\n          })\n\n        }\n\n      },(err)=>{\n        reje(err);\n        //this.items = [];\n        //this.commonService.hideLoading();\n        if(!!refresher)\n          refresher.complete();\n      });\n    })\n  }\n\n  loadSysPhotos(refresher,append,commonService) {\n\n   return new Promise((reso,reje) => {\n     console.log('requestAuthorization');\n     let qparams = this.getAlbumDataQParams();\n     let albumId = !!qparams.sysAlbumId?qparams.sysAlbumId:null;\n     if(qparams.items.length > 0){\n       qparams.offset += qparams.limit;\n     }\n     let year = this.albumDataQParams.yearDisabled?this.albumDataQParams.year:null;\n     let month = this.albumDataQParams.monthDisabled?this.albumDataQParams.month:null;\n\n     commonService.queryFileList(albumId,qparams.offset,qparams.limit,year,month)\n       .then((items:any)=>{\n         for(let i = 0; i< items.length; i++){\n           let item = items[i];\n           item.photoURL = item.nativeURL;\n         }\n         if(!append){\n           qparams.items = items;\n         }else {\n           for(let i = 0; i< items.length; i++){\n             let item = items[i];\n             qparams.items.push(item);\n           }\n         }\n         if(!!refresher)\n           refresher.complete();\n         reso( qparams.items)\n       },(err)=>{\n         if(!!refresher)\n           refresher.complete();\n         console.log(err);\n         reje(err);\n       });\n   })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/DbService.ts","/**\n * Created by yanxiaojun617@163.com on 01-03.\n */\nimport {Injectable,ViewChild} from '@angular/core';\nimport {NavController,ToastController, LoadingController,AlertController} from 'ionic-angular';\nimport { Camera } from '@ionic-native/camera';\nimport { Platform } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { MediaCapture, MediaFile, CaptureError, CaptureImageOptions } from '@ionic-native/media-capture';\n/*import { PhotoLibrary,LibraryItem } from '@ionic-native/photo-library';*/\nimport { ImagePicker } from '@ionic-native/image-picker';\ndeclare var cordova:any;\ndeclare var BMap :any;\ndeclare var MediaPicker :any;\ndeclare var myalbum :any;\n\n/*Date.prototype.format = function(fmt) {\n  var o = {\n    \"M+\" : this.getMonth()+1,                 //月份\n    \"d+\" : this.getDate(),                    //日\n    \"h+\" : this.getHours(),                   //小时\n    \"m+\" : this.getMinutes(),                 //分\n    \"s+\" : this.getSeconds(),                 //秒\n    \"q+\" : Math.floor((this.getMonth()+3)/3), //季度\n    \"S\"  : this.getMilliseconds()             //毫秒\n  };\n  if(/(y+)/.test(fmt)) {\n    fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n  }\n  for(var k in o) {\n    if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n    }\n  }\n  return fmt;\n}*/\n\n\n\n@Injectable()\nexport class CommonService {\n\n   nav: NavController\n\n   MediaTypeImage:string = 'image';\n   MediaTypeVideo:string = 'video';\n   MediaTypeAudio:string = 'audio';\n\n  private toast;\n  private loading;\n\n  backButtonListeners:Map<string,Function> = new Map();\n\n  eventListener:Map<string,Set<Function>> = new Map();\n\n  constructor(/*public photoLibrary:PhotoLibrary,*/private toastCtrl: ToastController, private loadingCtrl: LoadingController,\n              private camera: Camera,public plt: Platform,private alertCtrl: AlertController,private geolocation:Geolocation\n  ,private mediaCapture: MediaCapture,private imagePicker: ImagePicker) {\n    /*this.plt.ready().then(() => {\n\n    });*/\n  }\n\n  deviceReady(){\n    console.log('deviceready IN CommonService');\n    document.addEventListener(\"pause\", ()=>{\n      console.log('pause');\n    }, false);\n    document.addEventListener(\"resume\", ()=>{\n      console.log('resume');\n    }, false);\n    document.addEventListener(\"menubutton\", ()=>{\n      console.log('menubutton');\n    }, false);\n    this.triggerEvent('refresh',[]);\n  }\n\n  triggerEvent(evt:string,args:any){\n    let lis = this.eventListener.get(evt);\n    if(!lis) {\n     return;\n    }\n    lis.forEach((fnt)=>{\n      fnt(args);\n    })\n  }\n\n  regListener(evt:string,fnt:Function){\n      let lis = this.eventListener.get(evt);\n      if(!lis) {\n        lis = new Set<Function>();\n        this.eventListener.set(evt,lis);\n      }\n      lis.add(fnt);\n  }\n\n  unRegListener(evt:string,fnt:Function){\n    let lis = this.eventListener.get(evt);\n    if(!lis) {\n     return;\n    }\n    lis.delete(fnt);\n  }\n\n  triggerBackButtonAction() {\n    let flag = false;\n    this.backButtonListeners.forEach((fnt)=>{\n      flag = fnt();\n    })\n    return flag;\n  }\n\n  registerBackButtonListener(key:string,listener:Function) {\n    this.backButtonListeners.set(key,listener);\n  }\n  unRegisterBackButtonAction(key:string) {\n    this.backButtonListeners.delete(key);\n  }\n\n  isPcBrowser() {\n    /*let u = window.navigator.userAgent, app = window.navigator.appVersion;\n    var isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //g\n    //var isIOS = !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\n\n    return !(isAndroid /!*|| isIOS*!/)*/\n    return !this.plt.is('android');\n  }\n\n  formatDate(date,fmt){\n    var o = {\n      \"M+\" : date.getMonth()+1,                 //月份\n      \"d+\" : date.getDate(),                    //日\n      \"h+\" : date.getHours(),                   //小时\n      \"m+\" : date.getMinutes(),                 //分\n      \"s+\" : date.getSeconds(),                 //秒\n      \"q+\" : Math.floor((date.getMonth()+3)/3), //季度\n      \"S\"  : date.getMilliseconds()             //毫秒\n    };\n    if(/(y+)/.test(fmt)) {\n      fmt=fmt.replace(RegExp.$1, (date.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n    }\n    for(var k in o) {\n      if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n        fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n      }\n    }\n    return fmt;\n  }\n\n  /**\n   * 统一调用此方法显示提示信息\n   * @param message 信息内容\n   * @param duration 显示时长\n   */\n  showToast = (message: string = '操作完成', duration: number = 2500) => {\n    this.toast = this.toastCtrl.create({\n      message: message,\n      duration: duration,\n      position: 'top',\n      showCloseButton: true,\n      closeButtonText: '关闭'\n    });\n    this.toast.present();\n  };\n\n  /**\n   * 关闭信息提示框\n   */\n  hideToast = () => {\n    this.toast.dismissAll()\n  };\n\n  /**\n   * 统一调用此方法显示loading\n   * @param content 显示的内容\n   */\n  showLoading = (content: string = '') => {\n    this.loading = this.loadingCtrl.create({\n      content: content\n    });\n    this.loading.present();\n    setTimeout(() => {//最长显示20秒\n      this.hideLoading();\n    }, 1000*10);\n  };\n\n  /**\n   * 关闭loading\n   */\n  hideLoading = () => {\n    if(this.loading){\n      this.loading.dismissAll();\n    }\n  };\n\n  /**\n   * 使用cordova-plugin-camera获取照片的base64\n   * @param options\n   * @return {Promise<T>}\n   */\n  getPicture = (options) => {\n    return new Promise((resolve, reject) => {\n      this.camera.getPicture(Object.assign({\n        //sourceType: this.camera.PictureSourceType.CAMERA,//图片来源,CAMERA:拍照,PHOTOLIBRARY:相册\n        destinationType: this.camera.DestinationType.NATIVE_URI,//返回值格式,DATA_URL:base64,FILE_URI:图片路径,NATIVE_URI\n        quality: 100,//保存的图像质量，范围为0 - 100\n        allowEdit: false,//选择图片前是否允许编辑\n        encodingType: this.camera.EncodingType.JPEG,\n        //targetWidth: 800,//缩放图像的宽度（像素）\n        //targetHeight: 800,//缩放图像的高度（像素）\n        saveToPhotoAlbum: false,//是否保存到相册\n        correctOrientation: false//设置摄像机拍摄的图像是否为正确的方向\n      }, options)).then((imageData) => {\n        resolve(imageData);\n      }, (err) => {\n        console.log(err);\n        err == 20 ? this.showToast('没有权限,请在设置中开启权限') : reject(err);\n      });\n    });\n\n   /* return new Promise((resolve, reject) => {\n      resolve('assets/imgs/20180118153908.jpg');\n    });*/\n\n  };\n\n  /**\n   * 通过图库获取照片\n   * @param options\n   * @return {Promise<T>}\n   */\n  /*getPictureByPhotoLibrary = (options = {}) => {\n    return new Promise((resolve,reje) => {\n      if(this.isPcBrowser()) {\n        resolve( this._pcTestTake(this.MediaTypeImage))\n      } else {\n        this.getPicture(Object.assign({\n          sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n          saveToPhotoAlbum: false\n        }, options)).then(imageBase64 => {\n          resolve({fullPath:imageBase64});\n        }).catch(err => {\n          String(err).indexOf('cancel') != -1 ? this.showToast('取消选择图片', 1500) : this.showToast('获取照片失败');\n          reje(err);\n        });\n      }\n\n\n    });\n  };*/\n\n  /**\n   * 通过拍照获取照片\n   * @param options\n   * @return {Promise<T>}\n   */\n  getPictureByCamera = (options = {}) => {\n    return new Promise((resolve) => {\n      this.getPicture(Object.assign({\n        sourceType: this.camera.PictureSourceType.CAMERA,\n        saveToPhotoAlbum: false,\n      }, options)).then(imageBase64 => {\n        resolve(imageBase64);\n      }).catch(err => {\n        String(err).indexOf('cancel') != -1 ? this.showToast('取消拍照', 1500) : this.showToast('获取照片失败');\n      });\n    });\n  };\n\n  getFileInfo = (fileUrl:string) => {\n    return new Promise((resolve,reje) => {\n      if(this.isPcBrowser()) {\n        resolve( this._pcTestTake(this.MediaTypeImage))\n      } else {\n        cordova.plugins.albumplugin.fileInfo(fileUrl,(item)=>{\n          //console.log(item);\n          if(item.longitude == 0 || item.latitude==0) {\n            this.showLoading('查询位置信息');\n            item.fullPath = fileUrl;\n            this.getPosition().then((position:any)=>{\n              item.latitude= position.latitude;\n              item.longitude= position.longitude;\n             this.getLocation(position.latitude,position.longitude).then((address)=>{\n               item.address=address;\n               resolve(item);\n             },(err) =>{\n               reje(err);\n             })\n            },(err) =>{\n              reje(err);\n            })\n          } else  {\n            this.getLocation(item.latitude,item.longitude).then((address)=>{\n              item.address=address;\n              resolve(item);\n            },(err) =>{\n              reje(err);\n            })\n          }\n        },(err)=>{\n          console.log(err);\n          reje(err);\n        });\n      }\n    });\n  };\n\n  queryFileList = (albumId,offset,limit,year,month) => {\n    return new Promise((resolve,reje) => {\n      if(this.isPcBrowser()) {\n        resolve([{\n          creationDate: \"2018-01-24T19:38:28.000Z\",\n          latitude:22.583942413330078,\n          longitude: 113.87908172607422,\n          nativeURL:'assets/imgs/logo.png'\n        }]);\n      } else {\n        cordova.plugins.albumplugin.queryFileList(albumId,offset,limit,year,month,(items)=>{\n          resolve(items);\n        },(err)=>{\n          console.log(err);\n          reje(err);\n        });\n      }\n    });\n  };\n\n  _pcTestTake(mediaType) {\n    if(this.isPcBrowser()) {\n      let mediaFile = 'assets/imgs/20180227_003.amr';\n\n      if(mediaType == this.MediaTypeVideo){\n        mediaFile = 'assets/imgs/e6e8a3deaa49e336d7e11d87bdad3402.mp4';\n      }else if(mediaType == this.MediaTypeImage){\n        mediaFile = 'assets/imgs/20180118153908.jpg';\n      }/*else {\n        mediaFile = 'assets/imgs/20180227_003.amr';\n      }*/\n      return {\n        creationDate:this.formatDate(new Date(),'yyyy-MM-dd hh:mm:ss'),\n        fileName:mediaFile,\n        height:400,\n        width:400,\n        //id:\"409279;/storage/emulated/0/Pictures/myalbum/2018-0-23-1.jpg\",\n        //id:mediaFile,\n          latitude:22.5839424133301,\n         longitude:113.879081726074,\n        /*latitude:0,\n        longitude:0,*/\n        //photoURL:\"assets/imgs/20180118153908.jpg\",\n        fullPath:mediaFile,\n        photoURL:mediaFile,\n        //photoURL:\"assets/imgs/logo.png\",\n        //photoURL:\"assets/imgs/20180118153908.jpg\",\n        address:'广东省，深圳市，宝安区，西乡，宝民二路，143号,青春庭园E405',\n        thumbnailURL:\"cdvphotolibrary://thumbnail?photoId=409279%3B%2Fstorage%2Femulated%2F0%2FPictures%2Fmyalbum%2F2018-0-23-1.jpg&width=512&height=384&quality=0.5\",\n      };\n    }\n  }\n\n  loadSysAlbums() {\n\n    return new Promise((reso,reje)=> {\n      if(this.isPcBrowser()) {\n        reso( [ {\n          title: \"sys1\",\n          id:1,\n        }, {\n          title: \"sys2\",\n          id:2,\n        }]\n       )\n      } else {\n        /*this.photoLibrary.requestAuthorization().then(() => {\n          this.photoLibrary.getAlbums().then(albumItems => {\n            reso(albumItems);\n          },(err)=>{\n            console.log(err);\n            reje(err);\n          })\n        },(err)=>{\n          console.log(err);\n          reje(err);\n        });*/\n      }\n    })\n  }\n\n  deleteFile = (fileUrl:string) => {\n    return new Promise((resolve,reje) => {\n      if(this.isPcBrowser()) {\n        resolve(1)\n      } else {\n        cordova.plugins.albumplugin.deleteFile(fileUrl,(result)=>{\n          //console.log(item);\n          resolve(result);\n        },(err)=>{\n          reje(err);\n        });\n      }\n    });\n  };\n\n  comfirm(desc) {\n    return new Promise((reso,reje)=>{\n        let actionSheet = this.alertCtrl.create({\n          title: desc,\n          buttons: [\n            {\n              text: '确定',\n              role: 'destructive',\n              handler: () => {\n                reso(0);\n              }\n            },{\n              text: '取消',\n              role: 'cancel',\n              handler: () => {\n                reje(-1);\n              }\n            }\n          ]\n        });\n        actionSheet.present();\n      }\n    )\n  }\n\n  getPosition(){\n    return new Promise((reso,reje)=>{\n      if (window.navigator.geolocation) {\n        //this.photoLibrary.requestAuthorization().then(() => {\n        this.geolocation.getCurrentPosition({\n          // 指示浏览器获取高精度的位置，默认为false\n          enableHighAccuracy:true,\n          // 指定获取地理位置的超时时间，默认不限时，单位为毫秒\n          timeout: 1000000,\n          // 最长有效期，在重复获取地理位置时，此参数指定多久再次获取位置。\n          maximumAge: 1000000\n        }).then((position) => {\n          // resp.coords.latitude\n          // resp.coords.longitude\n          var coords = position.coords;\n          reso(coords);\n        }).catch((error) => {\n          console.log('Error getting location', error);\n          reje(null);\n        });\n      }else{\n        reje(null);\n      }\n    })\n\n  }\n\n  getLocation(latitude,longitude){\n    /**\n     'https://api.map.baidu.com/api?v=2.0&ak=dKqGUl2S27pplI6xMSas11AB'\n     (function(){\n     window.HOST_TYPE = \"2\";\n     window.BMap_loadScriptTime = (new Date).getTime();\n     document.write('<script type=\"text/javascript\" src=\"https://api.map.baidu.com/getscript?v=2.0&ak=dKqGUl2S27pplI6xMSas11AB&services=&t=20180201111639\">\n     </script>');})();\n     */\n    return new Promise((reso,reje)=> {\n      myalbum.ui.loadJS('https://api.map.baidu.com/getscript?v=2.0&ak=dKqGUl2S27pplI6xMSas11AB&services=&t=20180201111639')\n        .then(()=>{\n          let myGeo = new BMap.Geocoder();\n          let gpsPoint = new BMap.Point(longitude,latitude);\n          let convertor = new BMap.Convertor();\n          let pointArr = [];\n          pointArr.push(gpsPoint);\n          convertor.translate(pointArr, 1, 5,  (baiduPoints) => {\n            myGeo.getLocation(baiduPoints.points[0],  (rs) => {\n              let addComp = rs.addressComponents;\n              let address = addComp.province + \", \" + addComp.city + \", \" + addComp.district + \", \" + addComp.street + \", \" + addComp.streetNumber;\n              console.log(address);\n              reso(address);\n            },err=>{\n              reje(err);\n            });\n          },err=>{\n            reje(err);\n          })\n        },(err)=>{\n          reje(err);\n        });\n\n    })\n  }\n\n  getImages() {\n    return new Promise((reso, reje) => {\n\n      if(this.isPcBrowser()){\n        reso([this._pcTestTake(this.MediaTypeImage)]);\n      }else {\n        let options = {maximumImagesCount:3,outputType:2};\n        this.imagePicker.getPictures(options).then( (results: MediaFile[]) => {\n            let cnt = 0;\n            let datas = [];\n            for (var i = 0; i < results.length; i++) {\n              this.__getPositionAndLocation({fullPath:results[i]},dd=>{\n                datas.push(dd);\n                cnt++;\n                if(cnt == results.length){\n                  reso(datas);\n                  this.hideLoading();\n                }\n              },err=>{\n                reje(err);\n              });\n            }\n          },\n          err=>{\n            this.__failCb(err,reje);\n          });\n      }\n    })\n  }\n\n  /**\n   end:0\n   fullPath:\"file:///storage/emulated/0/Pictures/1519700351935.jpg\"\n   lastModified:null\n   lastModifiedDate:1519700358000\n   localURL:\"cdvfile://localhost/sdcard/Pictures/1519700351935.jpg\"\n   name:\"1519700351935.jpg\"\n   size:2086992\n   start:0\n   type:\"image/jpeg\"\n   * @returns {Promise<T>}\n   */\n  captureImage() {\n    return new Promise((reso, reje) => {\n\n      if(this.isPcBrowser()){\n        reso(this._pcTestTake(this.MediaTypeImage));\n       }else {\n        let options: CaptureImageOptions = { limit: 1 };\n        this.mediaCapture.captureImage(options)\n          .then(\n            (data: MediaFile[]) => {\n              this.__getPositionAndLocation(data[0],reso,reje);\n            },\n            err=>{\n              this.__failCb(err,reje);\n            }\n          );\n      }\n    })\n  }\n\n  __failCb=(err:any,reje) => {\n    reje(err);\n    this.hideLoading();\n  }\n\n  __getPositionAndLocation(data:any,reso,reje) {\n    let result = data;\n    result.creationDate = this.formatDate(new Date(),'yyyy-MM-dd hh:mm:ss');\n    this.showLoading('收集位置信息');\n    if(!!data.fullPath&& (data.fullPath.endsWith('jpg') ||data.fullPath.endsWith('jpeg') || data.fullPath.endsWith('mp4') )) {\n      this.getFileInfo(data.fullPath).then((it:any)=>{\n        result.creationDate = it.creationDate;\n        result.latitude = it.latitude;\n        result.longitude = it.longitude;\n        result.address = it.address;\n        this.hideLoading();\n        reso(result);\n      },(err)=>{\n        console.log(err);\n        this.hideLoading();\n        reje(err);\n      });\n    } else {\n      this.getPosition().then((position:any)=>{\n        result.latitude = position.latitude;\n        result.longitude = position.longitude;\n        this.getLocation(position.latitude,position.longitude).then(address=>{\n          result.address = address;\n          reso(result);\n          this.hideLoading();\n        },err=>{\n          this.__failCb(err,reje);\n        });\n      },err=>{\n        this.__failCb(err,reje);\n      });\n    }\n\n\n  }\n  /**\n   end:0\n   fullPath:\"file:///storage/emulated/0/Recordings/20180227_001.amr\"\n   lastModified:null\n   lastModifiedDate:1519700265000\n   localURL:\"cdvfile://localhost/sdcard/Recordings/20180227_001.amr\"\n   name:\"20180227_001.amr\"\n   size:9414\n   start:0\n   type:\"audio/amr\"\n   * @returns {Promise<T>}\n   */\n  captureAudio() {\n    return new Promise((reso, reje) => {\n      if(this.isPcBrowser()){\n         this._pcTestTake(this.MediaTypeAudio);\n       }else {\n        let options: CaptureImageOptions = { limit: 1 };\n        this.mediaCapture.captureAudio(options)\n          .then(\n            (data: MediaFile[]) => {\n              this.__getPositionAndLocation(data[0],reso,reje);\n            },\n            err=>{\n              this.__failCb(err,reje);\n            }\n          );\n      }\n\n    })\n  }\n\n  /**\n   * end:0\n   fullPath:\"file:///storage/4962-1CDC/DCIM/Camera/VID_20180227_105851.mp4\"\n   lastModified:null\n   lastModifiedDate:1519700331000\n   localURL:\"cdvfile://localhost/root/storage/4962-1CDC/DCIM/Camera/VID_20180227_105851.mp4\"\n   name:\"VID_20180227_105851.mp4\"\n   size:8686386\n   start:0\n   type:\"video/mp4\"\n   * @returns {Promise<T>}\n   */\n  captureVideo() {\n    return new Promise((reso, reje) => {\n      if(this.isPcBrowser()){\n        reso(this._pcTestTake(this.MediaTypeVideo));\n      }else {\n        let options: CaptureImageOptions = { limit: 1 };\n        this.mediaCapture.captureVideo(options)\n          .then(\n            (data: MediaFile[]) => {\n              this.__getPositionAndLocation(data[0],reso,reje);\n            },\n            err=>{\n              this.__failCb(err,reje);\n            }\n          );\n      }\n\n    })\n  }\n\n  saveMedia(mediaFile:string,albumName) {\n   /* return new Promise((reso,reje)=>{\n      if(mediaFile.endsWith('.jpg') || mediaFile.endsWith('.jpeg')) {\n        this.photoLibrary.saveImage(mediaFile, albumName, {}).then((item:LibraryItem) => {\n          reso(item);\n        },err => {\n          reje(err);\n        });\n      }else if(mediaFile.endsWith('.mp4')) {\n        this.photoLibrary.saveVideo(mediaFile, albumName).then(() => {\n          reso(mediaFile);\n        },err => {\n          reje(err);\n        });\n      }\n    });*/\n\n    return this.getFileInfo(mediaFile);\n\n  }\n\n  selectMedia(){\n    var args={ 'showThumbnail':true,\n      'selectMode':101,//101=PICKER_IMAGE_VIDEO , 100=PICKER_IMAGE , 102=PICKER_VIDEO\n      'maxSelectCount':10, //default 40 (Optional)\n      'maxSelectSize':188743680//188743680=180M (Optional)\n    };\n\n    return new Promise((reso,reje)=>{\n\n      if(this.isPcBrowser()){\n        reso([this._pcTestTake(this.MediaTypeImage)]);\n      }else {\n        MediaPicker.getMedias(args,results=>{\n          //dataArray [{mediaType: \"image\",rotate: 90, path:'/storage/emulated/0/DCIM/Camera/20170808_145202.jpg' thumbnailBase64: '9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEB'}]\n          let cnt = 0;\n          let datas = [];\n          for (var i = 0; i < results.length; i++) {\n            var item = results[i];\n            this.__getPositionAndLocation({fullPath:item.path},dd=>{\n              dd.thumbnailURL=item.thumbnailBase64;\n              datas.push(dd);\n              cnt++;\n              if(cnt == results.length){\n                reso(datas);\n              }\n            },err=>{\n              reje(err);\n            });\n          }\n        },err=>{\n          this.__failCb(err,reje);\n      })\n\n      }\n  })\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/CommonService.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 161;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 161\n// module chunks = 0","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { PopoverController, NavParams,ViewController } from 'ionic-angular';\nimport { DbService } from '../../service/DbService';\n\n@Component({\n  template: `\n    <ion-list class=\"popover-page\">\n      <ion-item>\n        <ion-label>Album</ion-label>\n        <ion-select [(ngModel)]=\"albumId\" >\n          <ion-option *ngFor=\"let n of albumList\" value=\"{{n.id}}\">{{n.name}}</ion-option>\n        </ion-select>\n      </ion-item>\n    </ion-list>\n    <button ion-button full  (click)=\"changeAlbum()\">确定</button>\n  `\n})\nexport class AlbumListPage {\n\n  albumList:any=[];\n  albumId:number;\n  data:any;\n  constructor(private navParams: NavParams, public dbService:DbService,public viewCtrl: ViewController) {\n    this.data = this.navParams.data;\n  }\n\n  ngOnInit() {\n    this.updateAlbum();\n  }\n\n  changeAlbum() {\n    this.data.albumChange(this.albumId);\n    this.close();\n  }\n\n  close() {\n    this.viewCtrl.dismiss();\n  }\n\n  updateAlbum() {\n    this.albumList=this.dbService.getAlbumDataQParams().albumList;\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photoDetail/AlbumListPage.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { PopoverController, NavParams,ViewController } from 'ionic-angular';\nimport { DbService } from '../../service/DbService';\nimport { CommonService } from '../../service/CommonService';\nimport { BBService } from '../../service/BBService';\n@Component({\n  template: `    \n      <ion-list  class=\"popover-page\">\n\n        <ion-item>\n          <ion-label>系统专辑</ion-label>\n          <ion-toggle [(ngModel)]=\"sysDisabled\"></ion-toggle>\n        </ion-item>\n        <ion-item >\n          <ion-label>宝宝名称</ion-label>\n          <ion-select [(ngModel)]=\"params.albumId\" [disabled]=\"sysDisabled\">\n            <ion-option *ngFor=\"let n of albumList\" value=\"{{n.id}}\">{{n.name}}</ion-option>\n          </ion-select>\n        </ion-item>\n        <ion-item >\n          <ion-label>系统专辑</ion-label>\n          <ion-select [(ngModel)]=\"params.sysAlbumId\" [disabled]=\"!sysDisabled\">\n            <ion-option *ngFor=\"let n of sysAlbumList\" value=\"{{n.id}}\">{{n.title}}</ion-option>\n          </ion-select>\n        </ion-item>\n        \n        <ion-item>\n          <ion-label>按年</ion-label>\n          <ion-toggle [(ngModel)]=\"yearDisabled\" [disabled]=\"monthDisabled\"></ion-toggle>\n        </ion-item>\n        <ion-item>\n          <ion-label>年</ion-label>\n          <ion-datetime displayFormat=\"YYYY\" [(ngModel)]=\"params.year\" [disabled]=\"!yearDisabled\"></ion-datetime>\n        </ion-item>\n\n        <ion-item>\n          <ion-label>按月</ion-label>\n          <ion-toggle [(ngModel)]=\"monthDisabled\" [disabled]=\"yearDisabled\"></ion-toggle>\n        </ion-item>\n        <ion-item >\n          <ion-label>月</ion-label>\n          <ion-datetime displayFormat=\"YYYY-MM\" [(ngModel)]=\"params.month\" [disabled]=\"!monthDisabled\"></ion-datetime>\n        </ion-item>\n        <button ion-button full (click)=\"finish()\">完成</button>\n       <!-- <button ion-button full (click)=\"clear()\">清除</button>-->\n      </ion-list>\n    \n  `\n})\nexport class QueryPage {\n\n  albumList:any=[];\n  sysAlbumList:any=[];\n  params:any;\n\n  monthDisabled:boolean=false;\n  yearDisabled:boolean=true;\n\n  sysDisabled:boolean=true;\n\n  constructor(private navParams: NavParams, public dbService:DbService,public viewCtrl: ViewController,public commonService:CommonService\n    ,public bbService:BBService) {\n\n  }\n\n  ngOnInit() {\n    this.updateAlbum();\n    this.params = this.dbService.getAlbumDataQParams();\n    this.albumList = this.params.albumList;\n    this.monthDisabled = this.params.monthDisabled;\n    this.yearDisabled = this.params.yearDisabled;\n    this.sysDisabled = this.params.sysDisabled;\n  }\n\n  close() {\n    this.viewCtrl.dismiss();\n  }\n\n  finish(){\n    this.close();\n    this.params.monthDisabled = this.monthDisabled;\n    this.params.yearDisabled = this.yearDisabled;\n    this.params.sysDisabled = this.sysDisabled;\n\n    if(this.params.sysDisabled){\n      for(let i=0; i < this.sysAlbumList.length;i++) {\n        if(this.sysAlbumList[i].id == this.params.sysAlbumId){\n          this.params.albumName=this.sysAlbumList[i].title;\n          break;\n        }\n      }\n    } else {\n      for(let i=0; i < this.albumList.length;i++) {\n        if(this.albumList[i].id == this.params.albumId){\n          this.params.album=this.albumList[i].name;\n          break;\n        }\n      }\n    }\n\n    this.navParams.data.finish();\n  }\n\n  updateAlbum() {\n    this.commonService.loadSysAlbums().then((items:any) =>{\n      console.log(items);\n      let al = [];\n      for(let i = 0; i < items.length; i++){\n        let sysn = items[i];\n        al.push(sysn);\n      }\n      this.sysAlbumList=al;\n    })\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/album/QueryPage.ts","import {Component, OnInit, Input, ElementRef, ViewChild} from '@angular/core';\nimport {DbService} from '../../service/DbService';\nimport {CommonService} from '../../service/CommonService';\nimport {NavController, NavParams} from 'ionic-angular';\nimport {Gesture} from 'ionic-angular/gestures/gesture';\n\ndeclare var PhotoSwipe, PhotoSwipeUI_Default;\n\n\nconst changeVal = 0;\n\n@Component({\n  selector: 'Rotate-Image',\n  template: `\n    <div #stage class=\"stage_area\">\n      <div #container class=\"container\" (click)=\"clickRotate($event)\">\n        <img *ngFor=\"let it of items;let j=index\"\n             src=\"{{it.url}}\" class=\"piece\"\n             [ngStyle]=\"setStyles(it,j)\"/>\n      </div>\n    </div>\n  `\n})\nexport class RotateImagePage implements OnInit {\n\n  mainItem: any;\n  items: any;\n  ang: number;\n  indexPiece: number = 0;\n  deg: number = 0;\n  transforZ: number = 0;\n\n  startX: number = 0;\n  startY: number = 0;\n\n  @ViewChild('stage') eleStage: ElementRef;\n  @ViewChild('container') eleContainer: ElementRef;\n\n  constructor(public navCtrl: NavController, params: NavParams, public commonService: CommonService, public dbService: DbService) {\n    this.mainItem = params.data.item;\n    this.items = this.mainItem.datas;\n    this.indexPiece = 0;\n    this.ang = 0;\n  }\n\n  setStyles(it, j) {\n    let val = {\n      width: it.w + 'px',\n      height: it.h + 'px',\n      transform: 'rotateY(' + j * this.deg + 'deg) translateZ(' + this.transforZ + 'px)'\n    }\n    return val;\n  }\n\n  ngOnInit() {\n    this._cacDeg();\n    this._calTranslateZ();\n    this.eleContainer.nativeElement.style.width = this._maxWidth() + 'px';\n    this.eleContainer.nativeElement.style.height = this._maxHeight() + 'px';\n  }\n\n  ionViewWillEnter() {\n    let _slideElement = this.eleContainer.nativeElement;\n    let _slideGesture = new Gesture(_slideElement);\n    _slideGesture.listen();\n    _slideGesture.on('panleft', (ev) => {\n      let ang = this._cacMoveDeg(-ev.distance);\n      this._transform(\"rotateY(\" + ang + \"deg)  translate(-50%,-50%)\");\n    });\n    _slideGesture.on('panright', (ev) => {\n      let ang = this._cacMoveDeg(ev.distance);\n      this._transform(\"rotateY(\" + ang + \"deg)  translate(-50%,-50%)\");\n    });\n  }\n\n  clickRotate(e) {\n    //this._transform(\"rotateY(\"+ (-1 * this.deg * ++this.indexPiece) +\"deg)\"+' translate(-50%,-50%)');\n\n  }\n\n  swipe(evt) {\n    let distance = evt.distance;\n    //向左滑\n    if (evt.direction == 2) {\n      let ang = this._cacMoveDeg(-distance);\n      this._transform(\"rotateY(\" + ang + \"deg)  translate(-50%,-50%)\");\n    } else if (evt.direction == 4) {\n      let ang = this._cacMoveDeg(distance);\n      this._transform(\"rotateY(\" + ang + \"deg)  translate(-50%,-50%)\");\n    }\n  }\n\n  _transform(value: string) {\n    this.eleContainer.nativeElement.style['transform'] = value;\n  }\n\n  _cacMoveDeg = function (s) {\n\n    let xishu = 1;\n    if (s < 0) {\n      xishu = -1\n    }\n    s = Math.abs(s/3);\n    this.ang += xishu * 2 * Math.asin(s / 2 / (this.transforZ)) * 180 / Math.PI;\n    return this.ang;\n  }\n\n  _cacMoveDeg1 = function (s) {\n\n    let xishu = 1;\n    if (s < 0) {\n      xishu = -1\n    }\n    s = Math.abs(s);\n    this.ang += xishu * Math.atan(s / 2 / (this.transforZ)) * 180 / Math.PI\n    return this.ang;\n  }\n\n  _cacDeg = function () {\n    this.deg = 360 / this.items.length;\n  }\n\n  _maxWidth = function () {\n    let val = this.items[0].w;\n    for (let i = 1; i < this.items.length; i++) {\n      this.items[i].w > val ? this.items[i].w : val;\n    }\n    return val;\n  }\n\n  _maxHeight = function () {\n    let val = this.items[0].h;\n    for (let i = 1; i < this.items.length; i++) {\n      this.items[i].h > val ? this.items[i].h : val;\n    }\n    return val;\n  }\n\n  _calTranslateZ = function () {\n    this.deg = 360 / this.items.length;\n    let maxWidth = this._maxWidth();\n    //this.transforZ = changeVal + (1 / Math.tan((this.deg / 2) * (Math.PI / 180))) * (maxWidth / 2);\n    this.transforZ =(maxWidth/2)/(Math.sin((this.deg/2)*(Math.PI/180)));\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/rotateImage/RotateImage.ts","import { Component ,OnInit,Input,ElementRef, ViewChild} from '@angular/core';\nimport { DbService } from '../../service/DbService';\nimport { CommonService } from '../../service/CommonService';\nimport { NavController,NavParams } from 'ionic-angular';\n\ndeclare var PhotoSwipe,PhotoSwipeUI_Default;\n@Component({\n  selector: 'Photo-Swipe',\n  template: `\n    <div class=\"pswp\" tabindex=\"-1\" role=\"page\" aria-hidden=\"true\">\n      <!-- Background of PhotoSwipe. \n           It's a separate element as animating opacity is faster than rgba(). -->\n      <div class=\"pswp__bg\"></div>\n      <!-- Slides wrapper with overflow:hidden. -->\n      <div class=\"pswp__scroll-wrap\">\n        <!-- Container that holds slides. \n            PhotoSwipe keeps only 3 of them in the DOM to save memory.\n            Don't modify these 3 pswp__item elements, data is added later on. -->\n        <div class=\"pswp__container\">\n          <div class=\"pswp__item\"></div>\n          <div class=\"pswp__item\"></div>\n          <div class=\"pswp__item\"></div>\n        </div>\n        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\n        <div class=\"pswp__ui pswp__ui--hidden\">\n          <div class=\"pswp__top-bar\">\n            <!--  Controls are self-explanatory. Order can be changed. -->\n            <div class=\"pswp__counter\"></div>\n            <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\n            <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\n            <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n            <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n\n            <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n            <!-- element will get class pswp__preloader--active when preloader is running -->\n            <div class=\"pswp__preloader\">\n              <div class=\"pswp__preloader__icn\">\n                <div class=\"pswp__preloader__cut\">\n                  <div class=\"pswp__preloader__donut\"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n            <div class=\"pswp__share-tooltip\"></div>\n          </div>\n          <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n          </button>\n          <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n          </button>\n          <div class=\"pswp__caption\">\n            <div class=\"pswp__caption__center\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PhotoSwipePage implements OnInit{\n\n  hiddenDesc:boolean=false;\n\n  items:any;\n  mainItem:any;\n  index:number=0;\n\n  constructor(public navCtrl: NavController,params: NavParams,public commonService:CommonService,public dbService:DbService) {\n    this.mainItem = params.data.item;\n    this.items = this.mainItem.datas;\n    this.index=0;\n  }\n\n  ngOnInit(){\n    this.photoSwipe();\n  }\n\n  photoSwipe(){\n    let pswpElement = document.querySelectorAll('.pswp')[0];\n\n\n// define options (if needed)\n    var options = {\n      // optionName: 'option value'\n      // for example:\n      index: 0 ,// start at first slide\n      loop:false,\n      history:false,\n\n      closeEl:false,\n      captionEl: true,\n      fullscreenEl: false,\n      zoomEl: true,\n      shareEl: false,\n      counterEl: true,\n      arrowEl: true,\n      preloaderEl: true,\n\n    };\n\n    // build items array\n    let its:Array<any> = [];\n    for(let i=0; i < this.items.length ;i ++){\n      let it = this.items[i];\n      if(it.photoURL&&(it.photoURL.endsWith('jpg') || it.photoURL.endsWith('jpeg'))){\n        let tt:any = {};\n        tt.src = it.photoURL;\n        if(it.width){\n          tt.w = it.width;\n        }\n        if(it.height){\n          tt.h = it.height;\n        }\n        it.html = '<h3>' + it.title + '</h3>';\n        it.html += '<p>' + it.desc + '</p>';\n\n        its.push(tt);\n      }\n    }\n\n   // Initializes and opens PhotoSwipe\n    var gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, its, options);\n    gallery.listen('gettingData', (index, item) => {\n      let it = this.items[index];\n      item.html = '<div>Dynamically generated HTML ' + '测试描述' + '</div>';\n    });\n    gallery.listen('close', (sl,args) => {\n      this.navCtrl.pop();\n    });\n    gallery.init();\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/photoSwipe/PhotoSwipe.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\nimport { AboutPage } from '../pages/about/about';\nimport { MenuPage } from '../pages/mainMenu/menu';\nimport { TakerPage } from '../pages/Taker/taker';\nimport { AlbumPage } from '../pages/album/album';\nimport { TabsPage } from '../pages/tabs/tabs';\nimport { TestPage } from '../pages/test/test';\nimport { PhotoDetailPage } from '../pages/photoDetail/photoDetail';\nimport { SysPhotoDetailPage } from '../pages/photoDetail/sysPhotoDetail';\nimport { PhotoPage } from '../pages/photoDetail/photo';\nimport { DbService } from '../service/DbService';\nimport { BBService } from '../service/BBService';\nimport { EditAlbumPage } from '../pages/EditAlbum/EditAlbum';\nimport { CommonService } from '../service/CommonService';\nimport { QueryPage } from '../pages/album/QueryPage';\nimport { AlbumListPage } from '../pages/photoDetail/AlbumListPage';\nimport { VideoPage } from '../pages/video/video';\nimport { ImagePage } from '../pages/image/image';\nimport { PhotoSwipePage } from '../pages/photoSwipe/PhotoSwipe';\nimport { RotateImagePage } from '../pages/rotateImage/RotateImage';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n/*import { PhotoLibrary } from '@ionic-native/photo-library';*/\nimport { IonicStorageModule } from '@ionic/storage';\nimport { Camera } from '@ionic-native/camera';\nimport { CDVPhotoLibraryPipe } from '../pipe/cdvphotolibrary.pipe';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { MediaCapture} from '@ionic-native/media-capture';\nimport { ImagePicker } from '@ionic-native/image-picker';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    AboutPage,\n    TestPage,\n    TakerPage,\n    AlbumPage,\n    TabsPage,\n    PhotoDetailPage,\n    EditAlbumPage,\n    CDVPhotoLibraryPipe,\n    MenuPage,\n    QueryPage,\n    AlbumListPage,\n    PhotoPage,\n    SysPhotoDetailPage,\n    VideoPage,\n    ImagePage,\n    PhotoSwipePage,\n    RotateImagePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp,{\n      backButtonText: '', // 配置返回按钮的文字\n      backButtonIcon: 'arrow-dropleft-circle' // 配置返回按钮的图标\n    }),\n    IonicStorageModule.forRoot({\n      name: '__MyAlbum',\n      driverOrder: ['indexeddb', 'sqlite', 'websql']\n    })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    TestPage,\n    AboutPage,\n    TakerPage,\n    AlbumPage,\n    TabsPage,\n    PhotoDetailPage,\n    MenuPage,\n    QueryPage,\n    AlbumListPage,\n    PhotoPage,\n    SysPhotoDetailPage,\n    VideoPage,\n    ImagePage,\n    PhotoSwipePage,\n    RotateImagePage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    /*PhotoLibrary,*/\n    DbService,\n    BBService,\n    CommonService,\n    Camera,\n    Geolocation,\n    MediaCapture,\n    ImagePicker,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component,ViewChild } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { AlertController,NavController } from 'ionic-angular';\nimport { CommonService } from '../service/CommonService';\n\nimport { MenuPage } from '../pages/mainMenu/menu';\n\nimport { DbService } from '../service/DbService';\nimport { AboutPage } from '../pages/about/about';\nimport { TakerPage } from '../pages/Taker/taker';\nimport { AlbumPage } from '../pages/album/album';\nimport { TestPage } from '../pages/test/test';\nimport { BBService } from '../service/BBService';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n\n  album = AlbumPage;\n  taker = TakerPage;\n  test = TestPage;\n  about = AboutPage;\n\n  backButtonPressed:boolean=false;\n  @ViewChild('rootNav') nav: NavController\n\n  constructor(private platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen,dbService:DbService,\n              public alertCtrl: AlertController,public commonService:CommonService,public bbService:BBService,) {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n      //dbService.init();\n      this.registerBackButtonAction();//注册返回按键事件\n      window['ionicAlertCtrl']=alertCtrl;\n      window['commonService']=commonService;\n      commonService.deviceReady();\n      dbService.deviceReady();\n      bbService.deviceReady();\n    });\n  }\n\n  ngAfterViewInit(){\n    this.commonService.nav=this.nav;\n  }\n\n  openPage(page){\n    this.nav.push(page,{});\n  }\n\n  registerBackButtonAction() {\n    this.platform.registerBackButtonAction(() => {\n      let activeVC = this.nav.getActive();\n      let page = activeVC.instance;\n      if(this.commonService.triggerBackButtonAction()){\n\n      } else if(this.nav.canGoBack()){\n        this.nav.pop();\n      }else {\n        //此处if是rootPage为登录页的情况，else是rootPage为TabsPage（如果不需要判断登录页的情况直接用else内的代码即可）\n        if(page instanceof AlbumPage) {\n          this.showExit();\n        }\n      }\n    }, 1);\n  }\n\n\n  //双击退出提示框\n  showExit() {\n    let prompt = this.alertCtrl.create({\n      title: '确定退出？',\n      message: \"你是否确定退出当前应用？\",\n      buttons: [\n        {\n          text: '确定',\n          handler: data => {\n            this.platform.exitApp();\n          }\n        },\n        {\n          text: '取消',\n          handler: data => {\n\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component } from '@angular/core';\nimport {NavController} from 'ionic-angular';\n\nimport { AboutPage } from '../about/about';\nimport { TakerPage } from '../Taker/taker';\nimport { AlbumPage } from '../album/album';\nimport { TestPage } from '../test/test';\n\n@Component({\n  templateUrl: 'menu.html'\n})\nexport class MenuPage {\n\n  album = AlbumPage;\n  taker = TakerPage;\n  test = TestPage;\n  about = AboutPage;\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n  openPage(page){\n    this.navCtrl.push(page,{});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mainMenu/menu.ts","import { Component } from '@angular/core';\n\nimport { AboutPage } from '../about/about';\nimport { TakerPage } from '../Taker/taker';\nimport { AlbumPage } from '../album/album';\nimport { TestPage } from '../test/test';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = AlbumPage;\n  tab4Root = TestPage;\n  tab2Root = AboutPage;\n  tab3Root = TakerPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component , OnInit} from '@angular/core';\nimport { NavController } from 'ionic-angular';\n/*import { PhotoLibrary } from '@ionic-native/photo-library';*/\nimport { DbService } from '../../service/DbService';\n\ndeclare var myalbum :any;\n\nconst testData:any = {\n  creationDate:'2018-09-02 02:04',\n  fileName: \"IMG_20180117_203604.jpg\",\n  height: 2432,\n  id: \"assets/imgs/20180118153908.jpg\",\n  latitude: 0,\n  longitude: 0,\n  photoURL: \"assets/imgs/20180118153908.jpg\",\n  thumbnailURL: \"assets/imgs/20180118153908.jpg\"\n  ,width: 2432\n}\n\n@Component({\n  selector:'EditAlbum',\n  templateUrl: 'EditAlbum.html'\n})\nexport class EditAlbumPage  implements OnInit {\n\n  constructor(public navCtrl: NavController,/*public photoLibrary:PhotoLibrary,*/public dbService:DbService) {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ngAfterViewChecked(){\n\n  }\n\n  queryAlbumLib(){\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/EditAlbum/EditAlbum.ts","import { Component ,OnInit,Input,ElementRef, ViewChild} from '@angular/core';\nimport { DbService } from '../../service/DbService';\nimport { CommonService } from '../../service/CommonService';\n\n@Component({\n  selector: 'album-video',\n  template: `\n   \n    <div *ngIf=\"item.address\" class=\"card-address\">{{item.address}}</div>\n    <div  *ngIf=\"item.creationDate\" class=\"card-time\">{{item.creationDate}}</div>\n    \n    <video #videoElt (click)=\"doClickAction()\" width='320' height='320'>\n      <source [src]=\"item.photoURL | cdvphotolibrary\" type=\"video/mp4\">\n      Your browser does not support the video tag.\n    </video>\n\n    <ion-card-content class=\"cards-bg\">\n      <ion-card-title *ngIf=\"item.title\" >\n        {{item.title}}\n      </ion-card-title>\n      <p *ngIf=\"item.desc\">{{item.desc}} </p>\n    </ion-card-content>\n\n    <ion-row no-padding [hidden]=\"hiddenActBar\">\n      <ion-col text-right>\n        <button ion-button clear small  icon-start (click)=\"photoDetail(item,true)\">\n          <ion-icon name='share-alt'></ion-icon>\n          编辑\n        </button>\n        <button ion-button clear small  icon-start (click)=\"fullPlay()\" [hidden]=\"autoPlayFlag\">\n          <ion-icon name='share-alt'></ion-icon>\n          播放\n        </button>\n      </ion-col>\n    </ion-row>\n    \n   \n  `\n})\nexport class VideoPage implements OnInit{\n\n  @Input('it')\n  item:any={};\n\n  @Input('autoPlayFlag')\n  autoPlayFlag:boolean=false;\n\n  @ViewChild('videoElt') videoElt:ElementRef;\n\n  playing:boolean = false;\n  constructor(public dbService:DbService, public commonService:CommonService) {\n\n  }\n\n  ngOnInit() {\n    this.videoElt.nativeElement.currentTime=0.01;\n    this.videoElt.nativeElement.addEventListener('ended',() =>{\n      this.playing=false;\n      this.videoElt.nativeElement['x5-video-player-fullscreen']='';\n      this.videoElt.nativeElement['webkit-playsinline']='';\n      this.videoElt.nativeElement['playsinline']='';\n    },false);\n  }\n\n  doClickAction(){\n    this.playing=!this.playing;\n    if(this.playing){\n      this.videoElt.nativeElement.play();\n    } else {\n      this.videoElt.nativeElement.pause();\n    }\n  }\n\n  fullPlay(){\n    this.videoElt.nativeElement['x5-video-player-fullscreen']='true';\n    this.videoElt.nativeElement['webkit-playsinline']='true';\n    this.videoElt.nativeElement['playsinline']='true';\n\n    if(!this.playing){\n      this.playing=true;\n      this.videoElt.nativeElement.play();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/video/video.ts","import { Component ,OnInit,Input,ElementRef, ViewChild} from '@angular/core';\nimport { DbService } from '../../service/DbService';\nimport { CommonService } from '../../service/CommonService';\nimport { NavController } from 'ionic-angular';\nimport { PhotoPage } from '../photoDetail/photo';\nimport { TakerPage } from '../Taker/taker';\nimport { SysPhotoDetailPage } from '../photoDetail/sysPhotoDetail';\nimport { BBService } from '../../service/BBService';\nimport { PhotoSwipePage } from '../photoSwipe/PhotoSwipe';\n\n@Component({\n  selector: 'album-image',\n  template: `\n    <div *ngIf=\"item.address\" class=\"card-address\"  [hidden]=\"hiddenDesc\">{{item.address}}</div>\n    <div  *ngIf=\"item.creationDate\" class=\"card-time\" [hidden]=\"hiddenDesc\">{{ageInfo.ageInfo}}</div>\n    <div  *ngIf=\"item.datas\" class=\"card-num\">{{item.datas.length}}</div>\n    \n    <img #imageElt *ngIf=\"item.photoURL&&(item.photoURL.endsWith('jpg') || item.photoURL.endsWith('jpeg'))\"  [src]=\"item.photoURL | cdvphotolibrary\" />\n    \n    <video #videoElt *ngIf=\"item.photoURL && item.photoURL.endsWith('mp4')\" width='320' height='320' (click)=\"playVideo()\">\n      <source [src]=\"item.photoURL | cdvphotolibrary\" type=\"video/mp4\">\n      Your browser does not support the video tag.\n    </video>\n    \n    <ion-card-content class=\"cards-bg\">\n      <ion-card-title *ngIf=\"item.title\" [hidden]=\"hiddenDesc\">\n        {{item.title}}\n      </ion-card-title>\n      <p *ngIf=\"item.desc\" [hidden]=\"hiddenDesc\">{{item.desc}} </p>\n    </ion-card-content>\n\n    <ion-row no-padding [hidden]=\"hiddenActBar\" style=\"z-index: 10000\">\n      <ion-col text-right style=\"z-index: 10000\">\n        <button ion-button clear small  icon-start (click)=\"photoDetail(item,true)\">\n          <ion-icon name='share-alt'></ion-icon>\n          编辑\n        </button>\n        <button ion-button clear small  icon-start (click)=\"openPhoto(false,item)\" [hidden]=\"autoPlayFlag\">\n          <ion-icon name='share-alt'></ion-icon>\n          查看\n        </button>\n        <button ion-button clear small  icon-start (click)=\"stopPlay()\" [hidden]=\"!autoPlayFlag\">\n          <ion-icon name='share-alt'></ion-icon>\n          停止\n        </button>\n      </ion-col>\n    </ion-row>\n  `\n})\nexport class ImagePage implements OnInit{\n\n  @Input('it')\n  item:any={};\n\n  @Input()\n  hiddenDesc:boolean=false;\n\n  @Input()\n  hiddenActBar:boolean=false;\n\n  @Input()\n  canView:boolean=false;\n\n  @ViewChild('imageElt') imageElt:ElementRef;\n\n  playing:boolean=false;\n  @ViewChild('videoElt') videoElt:ElementRef;\n\n  autoPlayFlag:boolean=false;\n  ageInfo:any={};\n\n  //playing:boolean = false;\n  constructor(public dbService:DbService, public commonService:CommonService,public navCtrl: NavController,public bbService:BBService) {\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit(){\n    if(this.item.creationDate){\n      this.bbService.parseAge(this.item.creationDate).then(info=>{\n        this.ageInfo = info;\n      });\n    }\n    if(this.videoElt){\n      this.videoElt.nativeElement.currentTime=0.01;\n      this.videoElt.nativeElement.addEventListener('ended',() =>{\n        this.playing=false;\n        this.videoElt.nativeElement['x5-video-player-fullscreen']='';\n        this.videoElt.nativeElement['webkit-playsinline']='';\n        this.videoElt.nativeElement['playsinline']='';\n      },false);\n    }\n  }\n\n  playVideo(){\n    this.playing=!this.playing;\n    if(this.playing){\n      this.videoElt.nativeElement.play();\n    } else {\n      this.videoElt.nativeElement.pause();\n    }\n  }\n\n  openPhoto(autoPlay:boolean=false,item:any) {\n    if(this.canView){\n      //this.navCtrl.push(PhotoPage,{item,autoPlay});\n      this.navCtrl.push(PhotoSwipePage,{item});\n    }\n  }\n\n  photoDetail(item:any,editable:boolean) {\n    let qparams = this.dbService.getAlbumDataQParams();\n    this.dbService.resetAlbumData();\n    console.log();\n    if(qparams.sysDisabled){\n      this.navCtrl.push(SysPhotoDetailPage,{ item:item,editable:editable });\n    } else {\n      //this.navCtrl.push(PhotoDetailPage,{ item:item,editable:editable });\n      this.navCtrl.push(TakerPage,{ item:item,editable:editable });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/image/image.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({name: 'cdvphotolibrary'})\nexport class CDVPhotoLibraryPipe implements PipeTransform {\n\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(url: string) {                           //this.sanitizer.bypassSecurityTrustUrl(url)\n    let val = url.startsWith('cdvphotolibrary://') ? this.sanitizer.bypassSecurityTrustUrl(url) : url;\n    return val;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipe/cdvphotolibrary.pipe.ts","import { Injectable } from '@angular/core';\nimport { DbService } from './DbService';\n\ndeclare var myalbum :any;\n\n@Injectable()\nexport class BBService {\n\n  ageYear:number=0;\n  ageMonth:number=0;\n  ageDay:number=0;\n\n  ageWeek:number=0;\n\n  album:any;\n\n  constructor(private dbService: DbService,) {\n\n  }\n\n  deviceReady(){\n    this.getAlbum();\n  }\n\n  _updateAlbum() {\n\n    return new Promise((reso,reje) =>{\n\n      let queryParams = this.dbService.getAlbumDataQParams();\n      let doUpdate = ()=>{\n        myalbum.db.selectTAlbum().then((albums)=>{\n          queryParams.albumList=albums;\n          this.getAlbum();\n          reso(albums);\n        },(err)=>{\n          queryParams.albumList=[];\n          reje([]);\n        });\n      }\n\n      myalbum.profile.get('defaultAlbumId').then((albumId)=>{\n        queryParams.albumId=albumId;\n        doUpdate();\n      },err=>{\n        console.log(err);\n        doUpdate();\n      })\n    }\n  )\n  }\n\n  getAlbum() {\n    return new Promise((reso,reje)=>{\n      let queryParams = this.dbService.getAlbumDataQParams();\n      let getName = () => {\n        if(!!queryParams.albumId && queryParams.albumId != null){\n          for(let i = 0; i < queryParams.albumList.length; i++){\n            if(queryParams.albumList[i].id == queryParams.albumId ) {\n              queryParams.album = queryParams.albumList[i];\n              break;\n            }\n          }\n        }else if(queryParams.albumList.length > 0){\n          queryParams.albumId = queryParams.albumList[0].id;\n          queryParams.album = queryParams.albumList[0];\n        }else {\n          queryParams.albumId = '';\n          queryParams.album = null;\n        }\n        if(queryParams.album){\n          this.album = queryParams.album;\n          this._parseBabyAge(myalbum.dateUtils.formatDate(new Date(),'yyyy-MM-dd hh:mm:ss'));\n        }\n        reso(queryParams.album);\n      }\n\n      if(queryParams.albumList.length == 0) {\n        this._updateAlbum().then(()=>{\n          getName();\n        },() =>{\n          reje('');\n        })\n      }else {\n        getName();\n      }\n    })\n  }\n\n  _parseBabyAge(endStr) {\n    let beginStr = this.album.birthday;\n    let result = myalbum.dateUtils.parseAge(beginStr, endStr);\n    this.ageYear = result.ageYear;\n    this.ageMonth = result.ageMonth;\n    this.ageDay = result.ageDay;\n    this.ageWeek = result.ageWeek;\n    this.album.ageInfo = result.ageInfo;\n\n  }\n\n  parseAge(endStr) {\n    return new Promise((reso,reje) =>{\n      if(this.album){\n        let result = '';\n        if(this.album.birthday){\n          let beginStr = this.album.birthday;\n          result = myalbum.dateUtils.parseAge(beginStr, endStr);\n        }\n        reso(result);\n      }else {\n        this.getAlbum().then(()=>{\n          let beginStr = this.album.birthday;\n          let result = myalbum.dateUtils.parseAge(beginStr, endStr);\n          reso(result);\n        })\n      }\n    })\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/BBService.ts","import { Component ,OnInit} from '@angular/core';\nimport { NavController,AlertController, NavParams } from 'ionic-angular';\nimport { DbService } from '../../service/DbService';\nimport { CommonService } from '../../service/CommonService';\nimport { BBService } from '../../service/BBService';\n\ndeclare var myalbum :any;\ndeclare var MediaPicker :any;\n\n@Component({\n  selector: 'taker',\n  templateUrl: 'taker.html'\n})\nexport class TakerPage implements OnInit{\n\n  mainData:any = {\n    title:'', desc:'', address:'', latitude:0, longitude:0,\n    creationDate:'', albumId:'', coverId:''\n  }\n\n  mainItem:any;\n\n  albumList:Array<any>;\n\n  change:boolean=false;\n\n  datas:Array<any>=[];\n\n  deleteItem:Array<any>=[];\n\n  //editAddress:boolean = false;\n\n  constructor(public bbService:BBService,public navCtrl: NavController, private alertCtrl: AlertController, public dbService:DbService,\n     public commonService:CommonService,params: NavParams,) {\n    if(params.data && params.data.item) {\n      this.mainData = params.data.item;\n      this.datas = this.mainData.datas;\n      if(!!this.datas && this.datas.length > 0){\n        for(let i = 0; i < this.datas.length; i++){\n          if(this.datas[i].id == this.mainData.coverId){\n            this.mainItem = this.datas[i];\n          }\n        }\n      }\n    }else {\n      this.mainData.albumId=dbService.getAlbumDataQParams().albumId;\n    }\n\n    //this.editAddress = params.data.editable;\n  }\n\n  ngOnInit() {\n    this.updateAlbum();\n\n    if(this.commonService.isPcBrowser()) {\n      /*this.photoLibrary.saveImage = function() {\n        let item:any = {\n          creationDate:new Date(),//self.commonService.formatDate(,'yyyy-MM-dd hh:mm:ss'),\n          fileName:\"20180118153908.jpg\",\n          height:400,\n          width:400,\n          //id:\"409279;/storage/emulated/0/Pictures/myalbum/2018-0-23-1.jpg\",\n          id:\"409279;assets/imgs/logo.png\",\n          /!*  latitude:22.5839424133301,\n           longitude:113.879081726074,*!/\n          latitude:0,\n          longitude:0,\n          //photoURL:\"assets/imgs/20180118153908.jpg\",\n          //photoURL:\"assets/imgs/20180118153941.jpg\",\n          //photoURL:\"assets/imgs/logo.png\",\n          photoURL:\"assets/imgs/20180118153908.jpg\",\n\n          thumbnailURL:\"cdvphotolibrary://thumbnail?photoId=409279%3B%2Fstorage%2Femulated%2F0%2FPictures%2Fmyalbum%2F2018-0-23-1.jpg&width=512&height=384&quality=0.5\",\n        }\n        return new Promise(function(r,re){\n          r(item);\n        });\n      }*/\n\n    }\n\n  }\n\n  createAlbum() {\n    let alert = this.alertCtrl.create({\n      title: 'Create Album',\n      inputs: [\n        {\n          name: 'name',\n          placeholder: 'Album Name'\n        },\n        {\n          name: 'desc',\n          placeholder: 'my album'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: data => {\n            console.log('Cancel clicked');\n            myalbum.ui.showAlert('Cancel clicked');\n          }\n        },\n        {\n          text: 'Add',\n          handler: data => {\n            this.addAlbum(data);\n          }\n        }\n      ]\n    });\n    this.commonService.registerBackButtonListener('alert',()=>{\n      alert.dismiss();\n      this.commonService.unRegisterBackButtonAction('alert');\n      return true;\n    });\n    alert.present();\n  }\n\n  addAlbum(data){\n    //this.albumList.push(data.name);\n    data.dir = '';\n    myalbum.db.insertTAlbum(data).then(data => {\n      this.updateAlbum();\n    },err=>{\n      myalbum.ui.showAlert('Error');\n    });\n  }\n\n  saveAlbumCluster() {\n    return new Promise((reso,reje)=>{\n      if(this.mainItem && this.mainItem.id){\n        this.mainData.coverId = this.mainItem.id;\n      }else {\n        reje('封面不能为空');\n      }\n      let persisCd:any = {\n        albumId:this.mainData.albumId,\n        coverId:this.mainData.coverId,\n        creationDate:this.mainData.creationDate,\n        title:this.mainData.title,\n        desc:this.mainData.desc,\n        latitude:this.mainData.latitude,\n        longitude:this.mainData.longitude,\n        address:this.mainData.address,\n      }\n      if(this.mainData.id){\n        persisCd.id = this.mainData.id;\n      }\n      myalbum.db.insertOrUpdate(myalbum.db.TAlbumCluster,persisCd).then((clusterItem:any)=>{\n        //save TAlbumCluster success\n        if(!this.mainData.id){\n          this.mainData.id = clusterItem.id;\n        }\n        reso(this.mainData);\n      },err=>{\n        //save TAlbumCluster failure\n        console.log(err);\n        this.commonService.hideLoading();\n        reje(err);\n      });\n\n    })\n\n  }\n\n  doSaveAlbumData(dd){\n    return new Promise((reso,reje)=>{\n      let saveOrUpdate = (albumFileItem:any) => {\n        //save album data\n        if(albumFileItem){\n          dd.mediaId = albumFileItem.id+'';\n          if(albumFileItem.nativeURL){\n            dd.photoURL = albumFileItem.nativeURL;\n          }\n          dd.thumbnailURL = albumFileItem.thumbnailURL;\n          dd.creationDate = albumFileItem.creationDate;\n          dd.fileName = albumFileItem.fileName;\n          dd.height = albumFileItem.height;\n          dd.width = albumFileItem.width;\n        }\n        myalbum.db.insertOrUpdate(myalbum.db.TAlbumData, dd).then((albumDataItem:any) => {\n          //save album data success\n          reso(albumDataItem);\n        },err=>{\n          reje(err);\n        });\n      }\n      if(!dd.id){\n        //dd.photoURL = this.getFilePath(dd.photoURL);\n        this.commonService.saveMedia(dd.photoURL,this.getAlbum().name).then((albumFileItem:any)=>{\n          saveOrUpdate(albumFileItem);\n        },err=>{\n          reje(err);\n        });\n      }else{\n        saveOrUpdate(null);\n      }\n    })\n  }\n\n\n  /*getFilePath(purl:string){\n    if(purl.indexOf('?') > 0) {\n      purl = purl.substr(0,purl.indexOf('?'));\n    }\n    if(!purl.startsWith('file:')){\n      purl = 'file:///'+purl;\n    }\n    return purl;\n  }*/\n\n  getAlbum(){\n    if(!this.mainData.albumId){\n      return null;\n    }\n    let album:any;\n    for(let i=0; i < this.albumList.length;i++) {\n      if(this.albumList[i].id ==this.mainData.albumId ){\n        album = this.albumList[i];\n        break;\n      }\n    }\n    return album;\n  }\n\n  saveOrUpdate(){\n\n    if(!this.commonService.isPcBrowser() && !this.change){\n      myalbum.ui.showAlert('未选择图片或先先图片已经保存');\n      //reje('未选择图片或先先图片已经保存');\n      return;\n    }\n\n    if(this.mainData.albumId == 0){\n      myalbum.ui.showAlert('未选择专辑');\n      return;\n    }\n\n    if(/*!this.mainData.photoURL || */!this.mainItem){\n      myalbum.ui.showAlert('未选择封面');\n      return;\n    }\n\n    this.commonService.showLoading('保存数据');\n\n    let albumDataIds = [];\n    for(let i = 0; i < this.deleteItem.length; i++){\n      albumDataIds.push(this.deleteItem[i].id);\n    }\n\n    if(albumDataIds.length > 0){\n      myalbum.db.deleteAlbumClusterData(this.mainData.id,albumDataIds);\n      myalbum.db.deleteById(myalbum.db.TAlbumData,albumDataIds);\n    }\n\n    this.saveAlbumData().then(() =>{\n      console.log();\n      this.saveAlbumCluster().then((clusterItem:any)=>{\n        let cnt=0;\n        for(let i = 0; i < this.datas.length; i++){\n          let albumData = this.datas[i];\n          myalbum.db.saveOrUpdateTAlbumClusterData({clusterId:clusterItem.id,albumDataId:albumData.id}).then((cdata:any)=>{\n            //save TalbumClusterData success\n            cnt++;\n            if(cnt == this.datas.length){\n              this.commonService.hideLoading();\n            }\n          },err=>{\n            //save TAlbumCluster failure\n            console.log(err);\n            cnt++;\n            if(cnt == this.datas.length){\n              this.commonService.hideLoading();\n              this.commonService.triggerEvent('refresh',null);\n            }\n          });\n        }\n      },err=>{\n        console.log(err);\n        this.commonService.hideLoading();\n        myalbum.ui.showAlert('保存失败');\n      })\n\n    },err=>{\n      this.commonService.hideLoading();\n      myalbum.ui.showAlert('保存失败');\n    });\n\n  }\n\n\n  saveAlbumData(){\n    return new Promise((reso,reje)=>{\n      if(!this.commonService.isPcBrowser() && !this.change){\n        myalbum.ui.showAlert('未选择图片或先先图片已经保存');\n        return;\n      }\n\n      let cnt = 0;\n      let saveOne = (dd) => {\n        this.doSaveAlbumData(dd).then((albumData:any)=>{\n          if(!dd.id){\n            dd.id= albumData.id;\n          }\n          cnt++;\n          if(cnt == this.datas.length){\n            reso(this.datas);\n          }\n        },err=>{\n          console.log(err);\n          reje(err);\n        })\n      }\n\n      for(let i = 0; i < this.datas.length; i++){\n        let dd = this.datas[i];\n        saveOne(dd);\n      }\n    })\n\n  }\n\n  updateAlbum() {\n    this.albumList = this.dbService.getAlbumDataQParams().albumList;\n   /* this.bbService.selectTAlbum().then((albums)=>{\n      this.albumList=albums;\n    },(err)=>{\n      this.albumList=[];\n    });*/\n  }\n\n  getPhotoSource() {\n    return new Promise((reso,reje)=>{\n      let actionSheet = this.alertCtrl.create({\n        title: '媒体源',\n        buttons: [\n          {\n            text: '相册',\n            role: 'destructive',\n            handler: () => {\n              reso(0);\n            }\n          },{\n            text: '拍摄',\n            handler: () => {\n              reso(1);\n            }\n          },{\n            text: '取消',\n            role: 'cancel',\n            handler: () => {\n              reso(-1);\n            }\n          }\n        ]\n      });\n      this.commonService.registerBackButtonListener('getPhotoSource',()=>{\n        actionSheet.dismiss();\n        this.commonService.unRegisterBackButtonAction('getPhotoSource');\n        reso(-1);\n        return true;\n      });\n      actionSheet.present();\n    }\n  )\n}\n\n  takePhoto() {\n    //1拍照,0从图库选择\n    var data:any = {};\n    this.getPhotoSource().then(type =>{\n\n      let successGetPicture = (item) => {\n        console.log(item);\n        //event.target.src = fileUrl;\n        this.change=true;\n\n        data.creationDate = item.creationDate;\n        data.latitude = item.latitude;\n        data.longitude = item.longitude;\n        data.address = item.address;\n        data.photoURL = item.fullPath;\n        this.change = true;\n\n        if(type == 1) {\n          //拍照\n          this.datas.push(data);\n        } else if(type == 0) {\n          //图库取得图片\n          //去除重复图片\n          let cnt = 0;\n          let images:Array<any>= item;\n          for(let i = 0; i < images.length;i++){\n            let flag = false;\n            for(let j = 0; j < this.datas.length;j++){\n              if(this.datas[j].photoURL == images[i].fullPath){\n                flag = true;\n                cnt++;\n                break;\n              }\n            }\n\n            if(!flag){\n              flag = false;\n              images[i].photoURL = images[i].fullPath;\n              this.datas.push(images[i]);\n            }\n\n          }\n          if(cnt > 0){\n            myalbum.ui.showAlert(cnt + '个重复文件，已自动去重');\n          }\n        } else if(type == 2) {\n          //视频\n          this.datas.push(data);\n        }else if(type == 3) {\n          //音频\n          this.datas.push(data);\n        }\n\n        if(!this.mainItem && this.datas.length > 0){\n          this.__setFirstPage(this.datas[0]);\n        }\n\n      }\n\n      if (type == 1) {\n        //this.commonService.getPictureByCamera(options).then(successGetPicture);\n        this.commonService.captureImage().then(successGetPicture);\n      } else if(type == 0) {\n        //this.commonService.getImages().then(successGetPicture);\n        this.commonService.selectMedia().then(successGetPicture);\n      }else if(type == 2) {\n        this.commonService.captureVideo().then(successGetPicture);\n      }else if(type == 3) {\n        this.commonService.captureAudio().then(successGetPicture);\n      }\n    })\n  }\n\n  __setFirstPage(item:any) {\n    this.mainItem = item;\n    this.mainData.creationDate = item.creationDate;\n    this.mainData.latitude = item.latitude;\n    this.mainData.longitude = item.longitude;\n    this.mainData.address = item.address;\n    //this.mainData.photoURL = item.photoURL;\n    if(!!item.title){\n      this.mainData.title = item.title;\n    }\n    if(!!item.desc){\n      this.mainData.desc = item.desc;\n    }\n    if(!!item.id){\n      this.mainData.coverId = item.id;\n    }\n    this.change=true;\n  }\n\n  __deleteItem(item:any) {\n    if(item == this.mainItem || this.datas.length == 1){\n      myalbum.ui.showAlert('封面不能删除');\n      return;\n    }\n    if(item.id){\n      this.deleteItem.push(item);\n    }\n    for (var i = 0; i < this.datas.length; i++) {\n      if (this.datas[i] == item) {\n        this.datas.splice(i,1);\n        break;\n      }\n    }\n    this.change=true;\n  }\n\n  setAsFirstPage(evt,item) {\n    let takeAsFirstPage = this.alertCtrl.create({\n      title: '设置为',\n      buttons: [\n        {\n          text: '封面',\n          handler: () => {\n            this.__setFirstPage(item);\n            console.log(evt);\n          }\n        },{\n          text: '删除',\n          handler: () => {\n            this.__deleteItem(item);\n            console.log(evt);\n          }\n        },{\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n            console.log(evt);\n          }\n        }\n      ]\n    });\n    this.commonService.registerBackButtonListener('setAsFirstPage',()=>{\n      takeAsFirstPage.dismiss();\n      this.commonService.unRegisterBackButtonAction('setAsFirstPage');\n      return true;\n    });\n    takeAsFirstPage.present();\n  }\n\n  deleteCluster(){\n    let albumDataIds = [];\n    for(let i = 0; i < this.datas.length; i++){\n      albumDataIds.push(this.datas[i].id);\n    }\n\n    myalbum.db.deleteAlbumClusterData(this.mainData.id,albumDataIds);\n    myalbum.db.deleteById(myalbum.db.TAlbumData,albumDataIds);\n    myalbum.db.deleteById(myalbum.db.TAlbumCluster,this.mainData.id);\n\n    this.navCtrl.pop();\n  }\n\n  mainMenu() {\n    let mm = this.alertCtrl.create({\n      title: '操作',\n      buttons: [\n        {\n          text: '保存',\n          handler: () => {\n           this.saveOrUpdate();\n          }\n        },{\n          text: '删除',\n          handler: () => {\n            this.deleteCluster();\n          }\n        },{\n          text: '取消',\n          role: 'cancel',\n          handler: () => {\n\n          }\n        }\n      ]\n    });\n    this.commonService.registerBackButtonListener('mainMenu',()=>{\n      mm.dismiss();\n      this.commonService.unRegisterBackButtonAction('mainMenu');\n      return true;\n    });\n    mm.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Taker/taker.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-about',\n  templateUrl: 'about.html'\n})\nexport class AboutPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","import { Component , OnInit} from '@angular/core';\nimport { PhotoDetailPage } from '../photoDetail/photoDetail';\nimport { SysPhotoDetailPage } from '../photoDetail/sysPhotoDetail';\n/*import { PhotoLibrary } from '@ionic-native/photo-library';*/\nimport { DbService } from '../../service/DbService';\nimport { BBService } from '../../service/BBService';\nimport { QueryPage } from './QueryPage';\nimport { CommonService } from '../../service/CommonService';\nimport { NavController,PopoverController, NavParams } from 'ionic-angular';\nimport { PhotoPage } from '../photoDetail/photo';\n\ndeclare var myalbum :any;\n\nconst testData:any = {\n  creationDate:'2018-09-02 02:04',\n  fileName: \"IMG_20180117_203604.jpg\",\n  height: 2432,\n  id: \"assets/imgs/20180118153908.jpg\",\n  latitude: 0,\n  longitude:  0,\n  photoURL: \"assets/imgs/20180118153908.jpg\",\n  thumbnailURL: \"assets/imgs/20180118153908.jpg\"\n  ,width: 2432\n}\n\n@Component({\n  selector: 'album-home',\n  templateUrl: 'album.html'\n})\nexport class AlbumPage implements OnInit {\n\n  //hiddenOthers:boolean = false;\n\n  init:boolean=false;\n\n  album:any={};\n\n  items:any = [\n    {paths:['assets/imgs/20180118153908.jpg','assets/imgs/20180118153941.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118153941.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118153952.jpg'],title:'Good Girl',date:new Date()},\n    {paths:['assets/imgs/20180118154030.jpg'],title:'Good Girl',date:new Date()},\n    ];\n  constructor(/*public photoLibrary:PhotoLibrary,*/public bbService:BBService,public dbService:DbService,\n              public commonService:CommonService,public navCtrl: NavController,\n              private navParams: NavParams,private popoverCtrl: PopoverController) {\n    commonService.regListener('refresh',(args)=>{\n      this.getAlbum().then(()=>{\n        this.doRefresh(null);\n      });\n    })\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ionViewDidEnter(){\n\n  }//它的触发和ionViewDidLoad的区别在于，不管是第一次加载还是缓存加载它都会触发\n\n  ionViewDidLoad(){\n\n  } //当页面加载完毕时触发。它只会在新页面被创建时触发一次，如页面被缓存再一次触发，它不会有任何反应。\n\n  ionViewWillEnter() {\n\n  }// 当页面即将加载时会触发。\n\n  ionViewWillLeave() {\n\n  } //当前页面即将离场时触发\n\n  ionViewDidLeave() {\n\n  } //当前页面完全离场时触发\n\n  ionViewWillUnload() {\n\n  } //当前页面即销毁时触发\n\n  //有返回值事件：\n  ionViewCanEnter() {\n\n    } //在一个需要授权的页面进入之前，它会触发。用于检查当前用户的资格。\n\n  ionViewCanLeave() {\n\n  } //在一个需要授权的页面离开之前，它会触发。用于检查当前用户的资格。\n\n  ngAfterViewChecked(){\n    //this.queryAlbumData();\n  }\n\n  getAlbum() {\n    return new Promise((reso,reje)=>{\n      let qparams = this.dbService.getAlbumDataQParams();\n      if(qparams.sysDisabled){\n        this.album = qparams.album;\n        reso(null);\n      } else {\n        this.bbService.getAlbum().then((name:any)=>{\n          this.album = name;\n          reso(name);\n        },(err) => {\n          reje(err);\n        });\n      }\n    });\n  }\n\n  presentPopover(ev) {\n    let popover = this.popoverCtrl.create(QueryPage, {\n      finish: ()=>{\n        this.getAlbum();\n        this.doRefresh(null)\n      }\n    });\n    popover.present({\n      ev: ev\n    });\n  }\n\n  loadPhotoFromLocal(refresher=null,append=false,showLoading=true) {\n    if(showLoading){\n      this.commonService.showLoading('图片加载中');\n    }\n    this.dbService.queryAlbumData(refresher,append).then((items)=>{\n      this.items = items;\n      if(showLoading){\n        this.commonService.hideLoading();\n      }\n    },(err) =>{\n      if(showLoading){\n        this.commonService.hideLoading();\n      }\n    });\n  }\n\n  loadSysPhotos(refresher=null,append=false,showLoading=true) {\n    if(showLoading){\n      this.commonService.showLoading('图片加载中');\n    }\n\n    let doLoad = () => {\n      this.dbService.loadSysPhotos(refresher,append,this.commonService)\n        .then((items:any)=>{\n          for(let i = 0; i< items.length; i++){\n            let item = items[i];\n            item.photoURL = item.nativeURL;\n            item.albumId=null;\n            item.id=null;\n          }\n          this.items = items;\n          if(showLoading){\n            this.commonService.hideLoading();\n          }\n        },(err)=>{\n          if(showLoading){\n            this.commonService.hideLoading();\n          }\n          console.log(err);\n        });\n    }\n\n    if(this.commonService.isPcBrowser()){\n      doLoad();\n    }else {\n      doLoad();\n     /* this.photoLibrary.requestAuthorization().then(() => {\n        console.log('requestAuthorization');\n        doLoad();\n      });*/\n    }\n  }\n\n  photoDetail(item:any,editable:boolean) {\n    let qparams = this.dbService.getAlbumDataQParams();\n    this.dbService.resetAlbumData();\n    if(qparams.sysDisabled){\n      this.navCtrl.push(SysPhotoDetailPage,{ item:item,editable:editable });\n    }else {\n      this.navCtrl.push(PhotoDetailPage,{ item:item,editable:editable });\n    }\n  }\n\n  doInfinite(infiniteScroll) {\n    let qparams = this.dbService.getAlbumDataQParams();\n    if(!qparams.sysDisabled){\n      this.loadPhotoFromLocal(infiniteScroll,true,false);\n    }else {\n      this.loadSysPhotos(infiniteScroll,true,false);\n    }\n\n  }\n\n  doRefresh(refresher) {\n    console.log('Begin async operation', refresher);\n    this.items=[];\n    let qparams = this.dbService.getAlbumDataQParams();\n    this.dbService.resetAlbumData();\n    if(!qparams.sysDisabled){\n      this.loadPhotoFromLocal(refresher,false,false);\n    }else {\n      this.loadSysPhotos(refresher,false,true);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/album/album.ts","import { Component ,OnInit} from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { CommonService } from '../../service/CommonService';\n\nimport { RotateImagePage } from '../../pages/rotateImage/RotateImage';\n\ndeclare var myalbum :any;\ndeclare var cordova:any;\ndeclare var MediaPicker :any;\ndeclare var PhotoSwipe,PhotoSwipeUI_Default;\n\n@Component({\n  template: `\n    <ion-header>\n      <ion-navbar>\n        <ion-title>\n          Test\n        </ion-title>\n      </ion-navbar>\n    </ion-header>\n\n    <ion-content padding>\n\n      <button ion-item menuClose  detail-none (click)=\"rotateImage()\">\n        <ion-icon name='rotateImage'></ion-icon>\n        RotateImage\n      </button>\n      \n      <ion-list radio-group [(ngModel)]=\"relationship\">\n        <ion-item>\n          <ion-label>Friends</ion-label>\n          <ion-radio value=\"friends\" checked></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>Family</ion-label>\n          <ion-radio value=\"family\"></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>Enemies</ion-label>\n          <ion-radio value=\"enemies\" [disabled]=\"isDisabled\"></ion-radio>\n        </ion-item>\n      </ion-list>\n      \n      <ion-list>\n        <ion-item>\n          <ion-note item-start>\n            Left Note\n          </ion-note>\n          My Item\n          <ion-note item-end>\n            Right Note\n          </ion-note>\n        </ion-item>\n      </ion-list>\n      \n      <ion-grid>\n        <ion-row>\n          <ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>\n            This column will be 12 columns wide by default,\n            9 columns at the small breakpoint,\n            6 at the medium breakpoint, 4 at large, and 3 at xl.\n          </ion-col>\n        </ion-row>\n        <ion-row>\n          <ion-col col-12 col-sm-9 col-md-6 col-lg-4 col-xl-3>\n            This column will be 12 columns wide by default,\n            9 columns at the small breakpoint,\n            6 at the medium breakpoint, 4 at large, and 3 at xl.\n          </ion-col>\n        </ion-row>\n      </ion-grid>\n\n      <ion-icon name=\"heart\"></ion-icon>                    <!-- active -->\n      <ion-icon name=\"heart\" isActive=\"false\"></ion-icon>  <!-- inactive -->\n\n\n      <ion-list inset>\n        <ion-item>\n          <ion-label fixed>fixed</ion-label>\n          <ion-input type=\"text\" value=\"\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label floating>floating</ion-label>\n          <ion-input type=\"password\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label stacked>stacked</ion-label>\n          <ion-input type=\"text\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-label>inline</ion-label>\n          <ion-input type=\"VerifyCode\"></ion-input>\n        </ion-item>\n        <ion-item>\n          <ion-input type=\"text\" placeholder=\"placeholder\"></ion-input>\n        </ion-item>\n      </ion-list>\n\n\n      <ion-item-group>\n        <ion-item-divider color=\"light\">A</ion-item-divider>\n        <ion-item>Angola</ion-item>\n        <ion-item>Argentina</ion-item>\n        <ion-item-divider color=\"light\">B</ion-item-divider>\n        <ion-item>aaa</ion-item>\n        <ion-item>bbgb</ion-item>\n      </ion-item-group>\n\n      <ion-list>\n        <ion-list-header>\n          Action\n        </ion-list-header>\n        <ion-item>Terminator II</ion-item>\n        <ion-item>The Empire Strikes Back</ion-item>\n        <ion-item>Blade Runner</ion-item>\n      </ion-list>\n\n      <ion-list>\n        <ion-list-header>Today</ion-list-header>\n        <ion-item>\n          <ion-thumbnail item-start>\n            <img src=\"/assets/imgs/20180118153908.jpg\">\n          </ion-thumbnail>\n          <h2>Finn</h2>\n          <p>I've had a pretty messed up day. If we just...</p>\n          <ion-note item-end>3:43 pm</ion-note>\n        </ion-item>\n        <ion-list-header>Yesterday</ion-list-header>\n        <ion-item>\n          <ion-thumbnail item-start>\n            <img src=\"/assets/imgs/20180118154000.jpg\">\n          </ion-thumbnail>\n          <h2>Finn</h2>\n          <h3>Don't Know What To Do!</h3>\n          <ion-note item-end>3:43 pm</ion-note>\n        </ion-item>\n      </ion-list>\n\n      <ion-item>\n        <ion-label>Date</ion-label>\n        <ion-datetime displayFormat=\"YYYY/MM\" [(ngModel)]=\"myDate\"></ion-datetime>\n      </ion-item>\n      <button ion-item menuClose  detail-none (click)=\"hello()\">\n        <ion-icon name='camera'></ion-icon>\n        call native method\n      </button>\n\n      <button ion-item menuClose  detail-none (click)=\"captureImpage()\">\n        <ion-icon name='camera'></ion-icon>\n        Capture Impage\n      </button>\n\n      <button ion-item menuClose  detail-none (click)=\"captureAudio()\">\n        <ion-icon name='camera'></ion-icon>\n        Capture Audio\n      </button>\n\n      <button ion-item menuClose  detail-none (click)=\"captureVideo()\">\n        <ion-icon name='camera'></ion-icon>\n        Capture Video\n      </button>\n\n      <button ion-item menuClose  detail-none (click)=\"selectMedia()\">\n        <ion-icon name='camera'></ion-icon>\n       SelectMedia\n      </button>\n\n      <button ion-item menuClose  detail-none (click)=\"photoSwipe()\">\n        <ion-icon name='photoSwipe'></ion-icon>\n        PhotoSwipe\n      </button>\n\n     \n      \n\n      <div class=\"pswp\" tabindex=\"-1\" role=\"page\" aria-hidden=\"true\">\n\n        <!-- Background of PhotoSwipe. \n             It's a separate element as animating opacity is faster than rgba(). -->\n        <div class=\"pswp__bg\"></div>\n\n        <!-- Slides wrapper with overflow:hidden. -->\n        <div class=\"pswp__scroll-wrap\">\n\n          <!-- Container that holds slides. \n              PhotoSwipe keeps only 3 of them in the DOM to save memory.\n              Don't modify these 3 pswp__item elements, data is added later on. -->\n          <div class=\"pswp__container\">\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n            <div class=\"pswp__item\"></div>\n          </div>\n\n          <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\n          <div class=\"pswp__ui pswp__ui--hidden\">\n\n            <div class=\"pswp__top-bar\">\n\n              <!--  Controls are self-explanatory. Order can be changed. -->\n\n              <div class=\"pswp__counter\"></div>\n\n              <button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button>\n\n              <button class=\"pswp__button pswp__button--share\" title=\"Share\"></button>\n\n              <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button>\n\n              <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button>\n\n              <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\n              <!-- element will get class pswp__preloader--active when preloader is running -->\n              <div class=\"pswp__preloader\">\n                <div class=\"pswp__preloader__icn\">\n                  <div class=\"pswp__preloader__cut\">\n                    <div class=\"pswp__preloader__donut\"></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\n              <div class=\"pswp__share-tooltip\"></div>\n            </div>\n\n            <button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\">\n            </button>\n\n            <button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\">\n            </button>\n\n            <div class=\"pswp__caption\">\n              <div class=\"pswp__caption__center\"></div>\n            </div>\n\n          </div>\n\n        </div>\n\n      </div>\n      \n    </ion-content>\n  `\n})\nexport class TestPage implements  OnInit{\n\n  isDisabled:boolean = true;\n\n  constructor(public navCtrl: NavController,public commonService:CommonService,) {\n\n  }\n\n  ngOnInit() {\n    //myalbum.ui.showAlert(this.commonService.isPcBrowser());\n    //cordova.plugins.albumplugin\n  }\n\n  hello() {\n    cordova.plugins.albumplugin.fileInfo('/storage/emulated/0/Pictures/myalbum/2018-0-25-10.jpg',function(result){\n      console.log(result);\n    },function(err){\n      console.log(err);\n    });\n  }\n\n  captureImpage(){\n    this.commonService.captureImage().then((images)=>{\n        console.log(images);\n    },(err)=>{\n      console.log(err);\n    })\n  }\n\n  captureAudio(){\n    this.commonService.captureAudio().then((images)=>{\n      console.log(images);\n    },(err)=>{\n      console.log(err);\n    })\n  }\n\n  captureVideo(){\n    this.commonService.captureVideo().then((images)=>{\n      console.log(images);\n    },(err)=>{\n      console.log(err);\n    })\n  }\n\n  selectMedia(){\n    var args={ 'showThumbnail':true,\n      'selectMode':101,//101=PICKER_IMAGE_VIDEO , 100=PICKER_IMAGE , 102=PICKER_VIDEO\n      'maxSelectCount':12, //default 40 (Optional)\n      'maxSelectSize':188743680,//188743680=180M (Optional)\n    };\n\n    MediaPicker.getMedias(args,function(dataArray){\n      //dataArray [{mediaType: \"image\",rotate: 90, path:'/storage/emulated/0/DCIM/Camera/20170808_145202.jpg' thumbnailBase64: '9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEB'}]\n      for(var i=0; i<dataArray.length; i++){\n       console.log(dataArray[i]);\n      }\n    },function(err){\n      console.log(err);\n    })\n  }\n\n  photoSwipe(){\n    var pswpElement = document.querySelectorAll('.pswp')[0];\n\n// build items array\n    var items = [\n      {\n        src: 'assets/imgs/20180118153952.jpg',\n        w: 600,\n        h: 400\n      },\n      {\n        src: 'assets/imgs/20180118153941.jpg',\n        w: 1200,\n        h: 900\n      }\n      ,\n      {\n        src: 'assets/imgs/20180118154009.jpg',\n        w: 1200,\n        h: 900\n      }\n      ,\n      {\n        src: 'assets/imgs/20180118154017.jpg',\n        w: 1200,\n        h: 900\n      }\n    ];\n\n// define options (if needed)\n    var options = {\n      // optionName: 'option value'\n      // for example:\n      index: 0 // start at first slide\n    };\n\n// Initializes and opens PhotoSwipe\n    var gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);\n    gallery.init();\n  }\n\n\n  rotateImage(){\n    let imgItems=[\n      {url:'assets/imgs/20180118153908.jpg', w:180, h:180},\n      {url:'assets/imgs/20180118153941.jpg', w:180, h:180},\n      {url:'assets/imgs/20180118154000.jpg',w:180,h:180},\n      {url:'assets/imgs/20180118154009.jpg', w:180,h:180},\n      {url:'assets/imgs/20180118154017.jpg',w:180,h:180},\n      {url:'assets/imgs/20180118154023.jpg',w:180, h:180},\n      /*{url:'assets/imgs/8.jpg',w:180,h:180},\n      {url:'assets/imgs/10.jpg',w:180, h:180},\n      {url:'assets/imgs/11.jpg', w:180, h:180},\n      {url:'assets/imgs/12.jpg', w:180,h:180},\n      {url:'assets/imgs/13.jpg',w:180,h:180 },\n      {url:'assets/imgs/14.jpg', w:180, h:180},*/\n    ];\n\n    this.navCtrl.push(RotateImagePage,{item:{datas:imgItems}});\n\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/test/test.ts"],"sourceRoot":""}